{"ast":null,"code":"var _jsxFileName = \"/home/rounak-dagar/securechat/frontend/src/components/Chat/ChatContainer.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\n\n// In a real app, these would be imported from separate service files\n// The mock data has been removed.\nimport { usersAPI, messagesAPI } from '../../services/api';\nimport { getSocket } from '../../services/socket';\nimport { hybridEncryptMessage, hybridDecryptMessage, decryptPrivateKeyAES } from '../../services/crypto';\n\n// --- STYLES ---\n// All custom CSS is embedded here for a single-file component.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Style = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n\n    :root {\n      --background-dark: #121212;\n      --background-light: #1E1E1E;\n      --sidebar-bg: #181818;\n      --accent-primary: #0A84FF;\n      --accent-primary-hover: #0A78E6;\n      --text-primary: #EAEAEA;\n      --text-secondary: #A0A0A0;\n      --border-color: #333333;\n      --online-indicator: #34C759;\n      --offline-indicator: #8E8E93;\n      --message-sent-bg: var(--accent-primary);\n      --message-received-bg: #3A3A3C;\n      --font-family: 'Inter', -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n    }\n\n    * {\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n    }\n\n    body {\n      overflow: hidden;\n    }\n\n    .chat-app-container {\n      display: flex;\n      height: 100vh;\n      width: 100vw;\n      background-color: var(--background-dark);\n      color: var(--text-primary);\n      font-family: var(--font-family);\n    }\n\n    /* --- Sidebar --- */\n    .sidebar {\n      width: 320px;\n      height: 100%;\n      background-color: var(--sidebar-bg);\n      border-right: 1px solid var(--border-color);\n      display: flex;\n      flex-direction: column;\n      transition: transform 0.3s ease-in-out;\n    }\n\n    .sidebar-header {\n      padding: 1.25rem;\n      border-bottom: 1px solid var(--border-color);\n    }\n\n    .sidebar-header h1 {\n      font-size: 1.5rem;\n      font-weight: 700;\n      background: linear-gradient(90deg, var(--accent-primary), #34C759);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n    \n    .sidebar-search {\n        padding: 1rem 1.25rem;\n    }\n\n    .search-input-wrapper {\n        position: relative;\n    }\n\n    .search-input {\n        width: 100%;\n        padding: 0.65rem 1rem 0.65rem 2.5rem;\n        border-radius: 8px;\n        background-color: var(--background-light);\n        border: 1px solid var(--border-color);\n        color: var(--text-primary);\n        font-size: 0.9rem;\n        outline: none;\n        transition: border-color 0.2s, box-shadow 0.2s;\n    }\n\n    .search-input:focus {\n        border-color: var(--accent-primary);\n        box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);\n    }\n\n    .search-icon {\n        position: absolute;\n        left: 0.85rem;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 1.1rem;\n        height: 1.1rem;\n        color: var(--text-secondary);\n    }\n\n    .user-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 0 0.75rem 1.25rem 0.75rem;\n    }\n    \n    .user-list::-webkit-scrollbar {\n        width: 6px;\n    }\n    .user-list::-webkit-scrollbar-thumb {\n        background-color: #444;\n        border-radius: 3px;\n    }\n\n    .user-item {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      padding: 0.75rem;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: background-color 0.2s, transform 0.1s ease-in-out;\n      width: 100%;\n      background: none;\n      border: none;\n      color: inherit;\n      text-align: left;\n    }\n\n    .user-item:hover {\n      background-color: var(--background-light);\n    }\n\n    .user-item:active {\n        transform: scale(0.98);\n    }\n\n    .user-item.selected {\n      background-color: var(--accent-primary);\n      color: white;\n    }\n    .user-item.selected .user-preview,\n    .user-item.selected .user-name {\n        color: white;\n    }\n\n\n    .avatar {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n      background-color: var(--accent-primary);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-weight: 600;\n      font-size: 1.1rem;\n      color: white;\n      user-select: none;\n      flex-shrink: 0;\n    }\n    \n    .user-info {\n        flex: 1;\n        min-width: 0;\n    }\n\n    .user-name {\n      font-weight: 600;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: var(--text-primary);\n    }\n\n    .user-preview {\n      font-size: 0.85rem;\n      color: var(--text-secondary);\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      font-weight: 500;\n    }\n    \n    .status-indicator {\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        background-color: var(--offline-indicator);\n        flex-shrink: 0;\n        border: 2px solid var(--sidebar-bg);\n    }\n    \n    .status-indicator.online {\n        background-color: var(--online-indicator);\n    }\n\n    /* --- Chat Area --- */\n    .chat-area {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n\n    .chat-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0.85rem 1.5rem;\n      border-bottom: 1px solid var(--border-color);\n      background-color: var(--background-dark);\n      flex-shrink: 0;\n    }\n    \n    .chat-header-user {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n    }\n    \n    .chat-header-user .avatar {\n        width: 40px;\n        height: 40px;\n        font-size: 1rem;\n    }\n\n    .chat-header-username {\n        font-weight: 600;\n    }\n\n    .chat-header-status {\n        font-size: 0.8rem;\n        color: var(--text-secondary);\n        display: flex;\n        align-items: center;\n        gap: 0.3rem;\n        min-height: 14px; /* Reserve space for typing indicator */\n    }\n\n    .typing-indicator {\n      font-style: italic;\n      color: var(--accent-primary);\n    }\n\n    .chat-header-status .status-indicator {\n        width: 8px;\n        height: 8px;\n        border: none;\n    }\n\n    .chat-header-actions {\n        display: flex;\n        gap: 0.5rem;\n    }\n\n    .icon-button {\n      background: none;\n      border: none;\n      padding: 0.5rem;\n      border-radius: 50%;\n      cursor: pointer;\n      color: var(--text-secondary);\n      transition: background-color 0.2s, color 0.2s;\n    }\n\n    .icon-button:hover {\n      background-color: var(--background-light);\n      color: var(--text-primary);\n    }\n    .icon-button svg {\n        width: 1.4rem;\n        height: 1.4rem;\n    }\n    \n    .sidebar-toggle {\n        display: none; /* Hidden on desktop */\n    }\n\n    .message-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 1.5rem;\n      display: flex;\n      flex-direction: column-reverse;\n    }\n    \n    .message-list-inner {\n        display: flex;\n        flex-direction: column;\n        gap: 0.75rem;\n    }\n    \n    .message-list::-webkit-scrollbar {\n        width: 6px;\n    }\n    .message-list::-webkit-scrollbar-thumb {\n        background-color: #444;\n        border-radius: 3px;\n    }\n    \n    @keyframes fadeInSlideUp {\n        from {\n            opacity: 0;\n            transform: translateY(10px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .message-item {\n        display: flex;\n        max-width: 70%;\n        animation: fadeInSlideUp 0.3s ease-out;\n    }\n\n    .message-item.sent {\n        align-self: flex-end;\n    }\n    \n    .message-item.received {\n        align-self: flex-start;\n    }\n\n    .message-bubble {\n        padding: 0.75rem 1rem;\n        border-radius: 18px;\n        line-height: 1.5;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n    }\n    .message-bubble p {\n        word-wrap: break-word;\n        white-space: pre-wrap;\n    }\n    .message-timestamp {\n        font-size: 0.75rem;\n        margin-top: 0.25rem;\n        text-align: right;\n        opacity: 0.7;\n    }\n\n    .message-item.sent .message-bubble {\n        background-color: var(--message-sent-bg);\n        color: white;\n        border-bottom-right-radius: 4px;\n    }\n    \n    .message-item.received .message-bubble {\n        background-color: var(--message-received-bg);\n        color: var(--text-primary);\n        border-bottom-left-radius: 4px;\n    }\n\n    .chat-input-area {\n      padding: 1rem 1.5rem;\n      border-top: 1px solid var(--border-color);\n      background-color: var(--sidebar-bg);\n    }\n\n    .chat-input-form {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      background-color: var(--background-light);\n      border-radius: 24px;\n      padding: 0.5rem;\n      border: 1px solid transparent;\n      transition: border-color 0.2s, box-shadow 0.2s;\n    }\n    \n    .chat-input-form:focus-within {\n        border-color: var(--accent-primary);\n        box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);\n    }\n\n    .chat-input-form .icon-button {\n        flex-shrink: 0;\n    }\n    .chat-input-form .icon-button svg {\n        width: 1.5rem;\n        height: 1.5rem;\n    }\n\n    .message-input {\n      flex: 1;\n      border: none;\n      background: none;\n      color: var(--text-primary);\n      font-size: 1rem;\n      padding: 0.5rem;\n      outline: none;\n      resize: none;\n      max-height: 120px;\n      font-family: inherit;\n    }\n    .message-input::placeholder {\n        color: var(--text-secondary);\n    }\n\n    .send-button {\n        background-color: var(--accent-primary);\n        border: none;\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        transition: background-color 0.2s, transform 0.1s ease-in-out;\n        flex-shrink: 0;\n    }\n    .send-button:hover {\n        background-color: var(--accent-primary-hover);\n    }\n    .send-button:active {\n        transform: scale(0.9);\n    }\n    .send-button:disabled {\n        background-color: #555;\n        cursor: not-allowed;\n        transform: scale(1);\n    }\n    .send-button svg {\n        width: 1.5rem;\n        height: 1.5rem;\n        color: white;\n        transform: translateX(1px);\n    }\n\n    .welcome-screen {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        text-align: center;\n        padding: 2rem;\n        color: var(--text-secondary);\n    }\n\n    .welcome-icon {\n        width: 6rem;\n        height: 6rem;\n        margin-bottom: 1.5rem;\n        color: #444;\n    }\n\n    .welcome-screen h2 {\n        font-size: 1.75rem;\n        font-weight: 600;\n        color: var(--text-primary);\n        margin-bottom: 0.5rem;\n    }\n\n    /* --- Responsiveness --- */\n    @media (max-width: 768px) {\n        .sidebar {\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            transform: translateX(-100%);\n            z-index: 100;\n        }\n\n        .sidebar.open {\n            transform: translateX(0);\n        }\n\n        .sidebar-toggle {\n            display: block;\n        }\n\n        .chat-app-container.sidebar-open::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 99;\n        }\n        \n        .chat-area {\n            width: 100%;\n        }\n    }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 3\n}, this);\n\n// --- SVG ICONS ---\n_c = Style;\nconst Icon = ({\n  children,\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  strokeWidth: 1.5,\n  stroke: \"currentColor\",\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 505,\n  columnNumber: 43\n}, this);\n_c2 = Icon;\nconst MagnifyingGlassIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 506,\n    columnNumber: 76\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 506,\n  columnNumber: 48\n}, this);\n_c3 = MagnifyingGlassIcon;\nconst PhoneIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 507,\n    columnNumber: 66\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 507,\n  columnNumber: 38\n}, this);\n_c4 = PhoneIcon;\nconst EllipsisVerticalIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 508,\n    columnNumber: 77\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 508,\n  columnNumber: 49\n}, this);\n_c5 = EllipsisVerticalIcon;\nconst Bars3Icon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 509,\n    columnNumber: 66\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 509,\n  columnNumber: 38\n}, this);\n_c6 = Bars3Icon;\nconst PaperAirplaneIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 510,\n    columnNumber: 74\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 510,\n  columnNumber: 46\n}, this);\n_c7 = PaperAirplaneIcon;\nconst FaceSmileIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.182 15l-6.364 0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 511,\n    columnNumber: 70\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21 12c0 5.523-4.477 10-10 10S1 17.523 1 12 5.477 2 11 2s10 4.477 10 10z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 511,\n    columnNumber: 147\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 10h.01M15 10h.01\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 511,\n    columnNumber: 277\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 511,\n  columnNumber: 42\n}, this);\n_c8 = FaceSmileIcon;\nconst PaperClipIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.122 2.122l7.81-7.81\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 512,\n    columnNumber: 70\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 512,\n  columnNumber: 42\n}, this);\n_c9 = PaperClipIcon;\nconst UserCircleIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 513,\n    columnNumber: 71\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 513,\n  columnNumber: 43\n}, this);\n_c0 = UserCircleIcon;\nconst MessageItem = ({\n  msg,\n  currentUser,\n  getDecryptedPrivateKey\n}) => {\n  _s();\n  const [decrypted, setDecrypted] = useState('');\n  useEffect(() => {\n    const decrypt = async () => {\n      if (msg.from === currentUser.username && msg.plaintext) {\n        setDecrypted(msg.plaintext);\n      } else {\n        try {\n          // This is a placeholder for the actual decryption logic\n          // const privateKeyArmored = await getDecryptedPrivateKey();\n          // const dec = await crypto.hybridDecryptMessage(msg.encryptedContent, msg.encryptedAESKey, privateKeyArmored);\n          const dec = msg.plaintext || `[Encrypted: ${msg.encryptedContent}]`; // Fallback for demo\n          setDecrypted(dec);\n        } catch {\n          setDecrypted('[Failed to decrypt]');\n        }\n      }\n    };\n    decrypt();\n  }, [msg, currentUser, getDecryptedPrivateKey]);\n  const isSent = msg.from === currentUser.username;\n  const messageClasses = isSent ? 'message-item sent' : 'message-item received';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: messageClasses,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: decrypted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-timestamp\",\n        children: new Date(msg.timestamp || Date.now()).toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 541,\n    columnNumber: 9\n  }, this);\n};\n_s(MessageItem, \"p5qMHw/IAbEL1ybyHdCYv2QSVmY=\");\n_c1 = MessageItem;\nconst ChatContainer = ({\n  currentUser,\n  showStatus\n}) => {\n  _s2();\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const textareaRef = useRef(null);\n  const messageListRef = useRef(null);\n\n  // --- Mock Crypto/Auth Refs ---\n  const decryptedPrivateKeyRef = useRef(null);\n  const passphraseRef = useRef('');\n  useEffect(() => {\n    usersAPI.getAllUsers().then(res => setUsers(res.data));\n  }, []);\n  useEffect(() => {\n    if (selectedUser) {\n      messagesAPI.getConversation(selectedUser.username).then(res => setMessages(res.data.slice().reverse()));\n      setSidebarOpen(false);\n    }\n  }, [selectedUser]);\n\n  // Auto-resize textarea and handle typing indicator\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n    if (input.trim().length > 0) {\n      setIsTyping(true);\n    } else {\n      setIsTyping(false);\n    }\n  }, [input]);\n\n  // Scroll to bottom when new message is added\n  useEffect(() => {\n    if (messageListRef.current) {\n      messageListRef.current.scrollTop = messageListRef.current.scrollHeight;\n    }\n  }, [messages]);\n  const getDecryptedPrivateKey = async () => {\n    // Mock implementation of this function\n    if (decryptedPrivateKeyRef.current) return decryptedPrivateKeyRef.current;\n    const passphrase = window.prompt('Enter your password:');\n    if (!passphrase) throw new Error('No password provided');\n    passphraseRef.current = passphrase;\n    const privateKey = await decryptPrivateKeyAES('key', passphrase);\n    decryptedPrivateKeyRef.current = privateKey;\n    return privateKey;\n  };\n  const sendMessage = async e => {\n    e.preventDefault();\n    const trimmedInput = input.trim();\n    if (!trimmedInput || !selectedUser) return;\n    setLoading(true);\n    try {\n      const {\n        encryptedMessage,\n        encryptedAESKey\n      } = await hybridEncryptMessage(trimmedInput, selectedUser.publicKey);\n      const messageData = {\n        from: currentUser.username,\n        to: selectedUser.username,\n        encryptedContent: encryptedMessage,\n        encryptedAESKey,\n        messageType: 'text',\n        timestamp: Date.now(),\n        plaintext: trimmedInput // For immediate display\n      };\n      await messagesAPI.sendMessage(messageData);\n      setMessages(prev => [messageData, ...prev]);\n      getSocket().emit('send_message', messageData);\n      setInput('');\n    } catch (err) {\n      console.error('Failed to send message', err);\n    }\n    setLoading(false);\n  };\n  const getAvatar = username => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar\",\n    children: username.slice(0, 2).toUpperCase()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 637,\n    columnNumber: 9\n  }, this);\n  const getLastPreview = user => {\n    // In a real app, you'd fetch the last message for this user\n    return \"Click to view messages\";\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Style, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-app-container ${isSidebarOpen ? 'sidebar-open' : ''}`,\n      onClick: () => isSidebarOpen && setSidebarOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: `sidebar ${isSidebarOpen ? 'open' : ''}`,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"SecureChat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-search\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n              className: \"search-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search users\",\n              className: \"search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"user-list\",\n          children: users.filter(user => user.username !== currentUser.username).map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedUser(user),\n              className: `user-item ${(selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username) === user.username ? 'selected' : ''}`,\n              children: [getAvatar(user.username), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-name\",\n                  children: user.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-preview\",\n                  children: getLastPreview(user)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `status-indicator ${user.isOnline ? 'online' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 33\n            }, this)\n          }, user.username, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"chat-area\",\n        children: selectedUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-user\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSidebarOpen(true),\n                className: \"icon-button sidebar-toggle\",\n                children: /*#__PURE__*/_jsxDEV(Bars3Icon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 37\n              }, this), getAvatar(selectedUser.username), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-header-username\",\n                  children: selectedUser.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-header-status\",\n                  children: isTyping ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"typing-indicator\",\n                    children: \"typing...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 690,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `status-indicator ${selectedUser.isOnline ? 'online' : ''}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 693,\n                      columnNumber: 49\n                    }, this), selectedUser.isOnline ? 'Online' : 'Offline']\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 688,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"icon-button\",\n                children: /*#__PURE__*/_jsxDEV(PhoneIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 69\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"icon-button\",\n                children: /*#__PURE__*/_jsxDEV(EllipsisVerticalIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 69\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-list\",\n            ref: messageListRef,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-list-inner\",\n              children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(MessageItem, {\n                msg: msg,\n                currentUser: currentUser,\n                getDecryptedPrivateKey: getDecryptedPrivateKey\n              }, msg.timestamp || idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-input-area\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: sendMessage,\n              className: \"chat-input-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"icon-button\",\n                children: /*#__PURE__*/_jsxDEV(FaceSmileIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 83\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 719,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"icon-button\",\n                children: /*#__PURE__*/_jsxDEV(PaperClipIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 720,\n                  columnNumber: 83\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: textareaRef,\n                value: input,\n                onChange: e => setInput(e.target.value),\n                onKeyDown: e => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    sendMessage(e);\n                  }\n                },\n                placeholder: \"Type a message...\",\n                rows: 1,\n                className: \"message-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: loading || !input.trim(),\n                className: \"send-button\",\n                children: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 736,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-screen\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarOpen(true),\n            className: \"icon-button sidebar-toggle\",\n            style: {\n              position: 'absolute',\n              top: '1rem',\n              left: '1rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(Bars3Icon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(UserCircleIcon, {\n            className: \"welcome-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Welcome to SecureChat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Select a user from the sidebar to begin a conversation.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s2(ChatContainer, \"PiLP8QnuBQuLebklX+OseJ/v8UU=\");\n_c10 = ChatContainer;\nexport default ChatContainer;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10;\n$RefreshReg$(_c, \"Style\");\n$RefreshReg$(_c2, \"Icon\");\n$RefreshReg$(_c3, \"MagnifyingGlassIcon\");\n$RefreshReg$(_c4, \"PhoneIcon\");\n$RefreshReg$(_c5, \"EllipsisVerticalIcon\");\n$RefreshReg$(_c6, \"Bars3Icon\");\n$RefreshReg$(_c7, \"PaperAirplaneIcon\");\n$RefreshReg$(_c8, \"FaceSmileIcon\");\n$RefreshReg$(_c9, \"PaperClipIcon\");\n$RefreshReg$(_c0, \"UserCircleIcon\");\n$RefreshReg$(_c1, \"MessageItem\");\n$RefreshReg$(_c10, \"ChatContainer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","usersAPI","messagesAPI","getSocket","hybridEncryptMessage","hybridDecryptMessage","decryptPrivateKeyAES","jsxDEV","_jsxDEV","Fragment","_Fragment","Style","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Icon","className","xmlns","fill","viewBox","strokeWidth","stroke","_c2","MagnifyingGlassIcon","strokeLinecap","strokeLinejoin","d","_c3","PhoneIcon","_c4","EllipsisVerticalIcon","_c5","Bars3Icon","_c6","PaperAirplaneIcon","_c7","FaceSmileIcon","_c8","PaperClipIcon","_c9","UserCircleIcon","_c0","MessageItem","msg","currentUser","getDecryptedPrivateKey","_s","decrypted","setDecrypted","decrypt","from","username","plaintext","dec","encryptedContent","isSent","messageClasses","Date","timestamp","now","toLocaleTimeString","hour","minute","_c1","ChatContainer","showStatus","_s2","isSidebarOpen","setSidebarOpen","users","setUsers","selectedUser","setSelectedUser","messages","setMessages","input","setInput","loading","setLoading","isTyping","setIsTyping","textareaRef","messageListRef","decryptedPrivateKeyRef","passphraseRef","getAllUsers","then","res","data","getConversation","slice","reverse","current","style","height","scrollHeight","trim","length","scrollTop","passphrase","window","prompt","Error","privateKey","sendMessage","e","preventDefault","trimmedInput","encryptedMessage","encryptedAESKey","publicKey","messageData","to","messageType","prev","emit","err","console","error","getAvatar","toUpperCase","getLastPreview","user","onClick","stopPropagation","type","placeholder","filter","map","isOnline","ref","idx","onSubmit","value","onChange","target","onKeyDown","key","shiftKey","rows","disabled","position","top","left","_c10","$RefreshReg$"],"sources":["/home/rounak-dagar/securechat/frontend/src/components/Chat/ChatContainer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\n// In a real app, these would be imported from separate service files\n// The mock data has been removed.\nimport { usersAPI, messagesAPI } from '../../services/api'; \nimport { getSocket } from '../../services/socket';\nimport { hybridEncryptMessage, hybridDecryptMessage, decryptPrivateKeyAES } from '../../services/crypto';\n\n\n// --- STYLES ---\n// All custom CSS is embedded here for a single-file component.\nconst Style = () => (\n  <style>{`\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n\n    :root {\n      --background-dark: #121212;\n      --background-light: #1E1E1E;\n      --sidebar-bg: #181818;\n      --accent-primary: #0A84FF;\n      --accent-primary-hover: #0A78E6;\n      --text-primary: #EAEAEA;\n      --text-secondary: #A0A0A0;\n      --border-color: #333333;\n      --online-indicator: #34C759;\n      --offline-indicator: #8E8E93;\n      --message-sent-bg: var(--accent-primary);\n      --message-received-bg: #3A3A3C;\n      --font-family: 'Inter', -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n    }\n\n    * {\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n    }\n\n    body {\n      overflow: hidden;\n    }\n\n    .chat-app-container {\n      display: flex;\n      height: 100vh;\n      width: 100vw;\n      background-color: var(--background-dark);\n      color: var(--text-primary);\n      font-family: var(--font-family);\n    }\n\n    /* --- Sidebar --- */\n    .sidebar {\n      width: 320px;\n      height: 100%;\n      background-color: var(--sidebar-bg);\n      border-right: 1px solid var(--border-color);\n      display: flex;\n      flex-direction: column;\n      transition: transform 0.3s ease-in-out;\n    }\n\n    .sidebar-header {\n      padding: 1.25rem;\n      border-bottom: 1px solid var(--border-color);\n    }\n\n    .sidebar-header h1 {\n      font-size: 1.5rem;\n      font-weight: 700;\n      background: linear-gradient(90deg, var(--accent-primary), #34C759);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n    \n    .sidebar-search {\n        padding: 1rem 1.25rem;\n    }\n\n    .search-input-wrapper {\n        position: relative;\n    }\n\n    .search-input {\n        width: 100%;\n        padding: 0.65rem 1rem 0.65rem 2.5rem;\n        border-radius: 8px;\n        background-color: var(--background-light);\n        border: 1px solid var(--border-color);\n        color: var(--text-primary);\n        font-size: 0.9rem;\n        outline: none;\n        transition: border-color 0.2s, box-shadow 0.2s;\n    }\n\n    .search-input:focus {\n        border-color: var(--accent-primary);\n        box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);\n    }\n\n    .search-icon {\n        position: absolute;\n        left: 0.85rem;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 1.1rem;\n        height: 1.1rem;\n        color: var(--text-secondary);\n    }\n\n    .user-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 0 0.75rem 1.25rem 0.75rem;\n    }\n    \n    .user-list::-webkit-scrollbar {\n        width: 6px;\n    }\n    .user-list::-webkit-scrollbar-thumb {\n        background-color: #444;\n        border-radius: 3px;\n    }\n\n    .user-item {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      padding: 0.75rem;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: background-color 0.2s, transform 0.1s ease-in-out;\n      width: 100%;\n      background: none;\n      border: none;\n      color: inherit;\n      text-align: left;\n    }\n\n    .user-item:hover {\n      background-color: var(--background-light);\n    }\n\n    .user-item:active {\n        transform: scale(0.98);\n    }\n\n    .user-item.selected {\n      background-color: var(--accent-primary);\n      color: white;\n    }\n    .user-item.selected .user-preview,\n    .user-item.selected .user-name {\n        color: white;\n    }\n\n\n    .avatar {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n      background-color: var(--accent-primary);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-weight: 600;\n      font-size: 1.1rem;\n      color: white;\n      user-select: none;\n      flex-shrink: 0;\n    }\n    \n    .user-info {\n        flex: 1;\n        min-width: 0;\n    }\n\n    .user-name {\n      font-weight: 600;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: var(--text-primary);\n    }\n\n    .user-preview {\n      font-size: 0.85rem;\n      color: var(--text-secondary);\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      font-weight: 500;\n    }\n    \n    .status-indicator {\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        background-color: var(--offline-indicator);\n        flex-shrink: 0;\n        border: 2px solid var(--sidebar-bg);\n    }\n    \n    .status-indicator.online {\n        background-color: var(--online-indicator);\n    }\n\n    /* --- Chat Area --- */\n    .chat-area {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n\n    .chat-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0.85rem 1.5rem;\n      border-bottom: 1px solid var(--border-color);\n      background-color: var(--background-dark);\n      flex-shrink: 0;\n    }\n    \n    .chat-header-user {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n    }\n    \n    .chat-header-user .avatar {\n        width: 40px;\n        height: 40px;\n        font-size: 1rem;\n    }\n\n    .chat-header-username {\n        font-weight: 600;\n    }\n\n    .chat-header-status {\n        font-size: 0.8rem;\n        color: var(--text-secondary);\n        display: flex;\n        align-items: center;\n        gap: 0.3rem;\n        min-height: 14px; /* Reserve space for typing indicator */\n    }\n\n    .typing-indicator {\n      font-style: italic;\n      color: var(--accent-primary);\n    }\n\n    .chat-header-status .status-indicator {\n        width: 8px;\n        height: 8px;\n        border: none;\n    }\n\n    .chat-header-actions {\n        display: flex;\n        gap: 0.5rem;\n    }\n\n    .icon-button {\n      background: none;\n      border: none;\n      padding: 0.5rem;\n      border-radius: 50%;\n      cursor: pointer;\n      color: var(--text-secondary);\n      transition: background-color 0.2s, color 0.2s;\n    }\n\n    .icon-button:hover {\n      background-color: var(--background-light);\n      color: var(--text-primary);\n    }\n    .icon-button svg {\n        width: 1.4rem;\n        height: 1.4rem;\n    }\n    \n    .sidebar-toggle {\n        display: none; /* Hidden on desktop */\n    }\n\n    .message-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 1.5rem;\n      display: flex;\n      flex-direction: column-reverse;\n    }\n    \n    .message-list-inner {\n        display: flex;\n        flex-direction: column;\n        gap: 0.75rem;\n    }\n    \n    .message-list::-webkit-scrollbar {\n        width: 6px;\n    }\n    .message-list::-webkit-scrollbar-thumb {\n        background-color: #444;\n        border-radius: 3px;\n    }\n    \n    @keyframes fadeInSlideUp {\n        from {\n            opacity: 0;\n            transform: translateY(10px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .message-item {\n        display: flex;\n        max-width: 70%;\n        animation: fadeInSlideUp 0.3s ease-out;\n    }\n\n    .message-item.sent {\n        align-self: flex-end;\n    }\n    \n    .message-item.received {\n        align-self: flex-start;\n    }\n\n    .message-bubble {\n        padding: 0.75rem 1rem;\n        border-radius: 18px;\n        line-height: 1.5;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n    }\n    .message-bubble p {\n        word-wrap: break-word;\n        white-space: pre-wrap;\n    }\n    .message-timestamp {\n        font-size: 0.75rem;\n        margin-top: 0.25rem;\n        text-align: right;\n        opacity: 0.7;\n    }\n\n    .message-item.sent .message-bubble {\n        background-color: var(--message-sent-bg);\n        color: white;\n        border-bottom-right-radius: 4px;\n    }\n    \n    .message-item.received .message-bubble {\n        background-color: var(--message-received-bg);\n        color: var(--text-primary);\n        border-bottom-left-radius: 4px;\n    }\n\n    .chat-input-area {\n      padding: 1rem 1.5rem;\n      border-top: 1px solid var(--border-color);\n      background-color: var(--sidebar-bg);\n    }\n\n    .chat-input-form {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      background-color: var(--background-light);\n      border-radius: 24px;\n      padding: 0.5rem;\n      border: 1px solid transparent;\n      transition: border-color 0.2s, box-shadow 0.2s;\n    }\n    \n    .chat-input-form:focus-within {\n        border-color: var(--accent-primary);\n        box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);\n    }\n\n    .chat-input-form .icon-button {\n        flex-shrink: 0;\n    }\n    .chat-input-form .icon-button svg {\n        width: 1.5rem;\n        height: 1.5rem;\n    }\n\n    .message-input {\n      flex: 1;\n      border: none;\n      background: none;\n      color: var(--text-primary);\n      font-size: 1rem;\n      padding: 0.5rem;\n      outline: none;\n      resize: none;\n      max-height: 120px;\n      font-family: inherit;\n    }\n    .message-input::placeholder {\n        color: var(--text-secondary);\n    }\n\n    .send-button {\n        background-color: var(--accent-primary);\n        border: none;\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        transition: background-color 0.2s, transform 0.1s ease-in-out;\n        flex-shrink: 0;\n    }\n    .send-button:hover {\n        background-color: var(--accent-primary-hover);\n    }\n    .send-button:active {\n        transform: scale(0.9);\n    }\n    .send-button:disabled {\n        background-color: #555;\n        cursor: not-allowed;\n        transform: scale(1);\n    }\n    .send-button svg {\n        width: 1.5rem;\n        height: 1.5rem;\n        color: white;\n        transform: translateX(1px);\n    }\n\n    .welcome-screen {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        text-align: center;\n        padding: 2rem;\n        color: var(--text-secondary);\n    }\n\n    .welcome-icon {\n        width: 6rem;\n        height: 6rem;\n        margin-bottom: 1.5rem;\n        color: #444;\n    }\n\n    .welcome-screen h2 {\n        font-size: 1.75rem;\n        font-weight: 600;\n        color: var(--text-primary);\n        margin-bottom: 0.5rem;\n    }\n\n    /* --- Responsiveness --- */\n    @media (max-width: 768px) {\n        .sidebar {\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            transform: translateX(-100%);\n            z-index: 100;\n        }\n\n        .sidebar.open {\n            transform: translateX(0);\n        }\n\n        .sidebar-toggle {\n            display: block;\n        }\n\n        .chat-app-container.sidebar-open::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 99;\n        }\n        \n        .chat-area {\n            width: 100%;\n        }\n    }\n  `}</style>\n);\n\n// --- SVG ICONS ---\nconst Icon = ({ children, className }) => <svg className={className} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\">{children}</svg>;\nconst MagnifyingGlassIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\" /></Icon>;\nconst PhoneIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z\" /></Icon>;\nconst EllipsisVerticalIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z\" /></Icon>;\nconst Bars3Icon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\" /></Icon>;\nconst PaperAirplaneIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5\" /></Icon>;\nconst FaceSmileIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.182 15l-6.364 0\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 12c0 5.523-4.477 10-10 10S1 17.523 1 12 5.477 2 11 2s10 4.477 10 10z\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 10h.01M15 10h.01\" /></Icon>;\nconst PaperClipIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.122 2.122l7.81-7.81\" /></Icon>;\nconst UserCircleIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\" /></Icon>;\n\nconst MessageItem = ({ msg, currentUser, getDecryptedPrivateKey }) => {\n    const [decrypted, setDecrypted] = useState('');\n\n    useEffect(() => {\n        const decrypt = async () => {\n            if (msg.from === currentUser.username && msg.plaintext) {\n                setDecrypted(msg.plaintext);\n            } else {\n                try {\n                    // This is a placeholder for the actual decryption logic\n                    // const privateKeyArmored = await getDecryptedPrivateKey();\n                    // const dec = await crypto.hybridDecryptMessage(msg.encryptedContent, msg.encryptedAESKey, privateKeyArmored);\n                    const dec = msg.plaintext || `[Encrypted: ${msg.encryptedContent}]`; // Fallback for demo\n                    setDecrypted(dec);\n                } catch {\n                    setDecrypted('[Failed to decrypt]');\n                }\n            }\n        };\n        decrypt();\n    }, [msg, currentUser, getDecryptedPrivateKey]);\n\n    const isSent = msg.from === currentUser.username;\n    const messageClasses = isSent ? 'message-item sent' : 'message-item received';\n\n    return (\n        <div className={messageClasses}>\n            <div className=\"message-bubble\">\n                <p>{decrypted}</p>\n                <div className=\"message-timestamp\">\n                    {new Date(msg.timestamp || Date.now()).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                </div>\n            </div>\n        </div>\n    );\n};\n\n\nconst ChatContainer = ({ currentUser, showStatus }) => {\n    const [isSidebarOpen, setSidebarOpen] = useState(false);\n    const [users, setUsers] = useState([]);\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [messages, setMessages] = useState([]);\n    const [input, setInput] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [isTyping, setIsTyping] = useState(false);\n    const textareaRef = useRef(null);\n    const messageListRef = useRef(null);\n\n    // --- Mock Crypto/Auth Refs ---\n    const decryptedPrivateKeyRef = useRef(null);\n    const passphraseRef = useRef('');\n\n    useEffect(() => {\n        usersAPI.getAllUsers().then(res => setUsers(res.data));\n    }, []);\n\n    useEffect(() => {\n        if (selectedUser) {\n            messagesAPI.getConversation(selectedUser.username).then(res => setMessages(res.data.slice().reverse()));\n            setSidebarOpen(false);\n        }\n    }, [selectedUser]);\n    \n    // Auto-resize textarea and handle typing indicator\n    useEffect(() => {\n        if (textareaRef.current) {\n            textareaRef.current.style.height = 'auto';\n            textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        }\n        if (input.trim().length > 0) {\n            setIsTyping(true);\n        } else {\n            setIsTyping(false);\n        }\n    }, [input]);\n\n    // Scroll to bottom when new message is added\n    useEffect(() => {\n        if (messageListRef.current) {\n            messageListRef.current.scrollTop = messageListRef.current.scrollHeight;\n        }\n    }, [messages]);\n\n    const getDecryptedPrivateKey = async () => {\n        // Mock implementation of this function\n        if (decryptedPrivateKeyRef.current) return decryptedPrivateKeyRef.current;\n        const passphrase = window.prompt('Enter your password:');\n        if (!passphrase) throw new Error('No password provided');\n        passphraseRef.current = passphrase;\n        const privateKey = await decryptPrivateKeyAES('key', passphrase);\n        decryptedPrivateKeyRef.current = privateKey;\n        return privateKey;\n    };\n\n    const sendMessage = async (e) => {\n        e.preventDefault();\n        const trimmedInput = input.trim();\n        if (!trimmedInput || !selectedUser) return;\n        setLoading(true);\n        try {\n            const { encryptedMessage, encryptedAESKey } = await hybridEncryptMessage(trimmedInput, selectedUser.publicKey);\n            const messageData = {\n                from: currentUser.username,\n                to: selectedUser.username,\n                encryptedContent: encryptedMessage,\n                encryptedAESKey,\n                messageType: 'text',\n                timestamp: Date.now(),\n                plaintext: trimmedInput // For immediate display\n            };\n            await messagesAPI.sendMessage(messageData);\n            setMessages(prev => [messageData, ...prev]);\n            getSocket().emit('send_message', messageData);\n            setInput('');\n        } catch (err) {\n            console.error('Failed to send message', err);\n        }\n        setLoading(false);\n    };\n\n    const getAvatar = (username) => (\n        <div className=\"avatar\">\n            {username.slice(0, 2).toUpperCase()}\n        </div>\n    );\n    \n    const getLastPreview = (user) => {\n        // In a real app, you'd fetch the last message for this user\n        return \"Click to view messages\";\n    }\n\n    return (\n        <>\n            <Style />\n            <div className={`chat-app-container ${isSidebarOpen ? 'sidebar-open' : ''}`} onClick={() => isSidebarOpen && setSidebarOpen(false)}>\n                <aside className={`sidebar ${isSidebarOpen ? 'open' : ''}`} onClick={e => e.stopPropagation()}>\n                    <div className=\"sidebar-header\">\n                        <h1>SecureChat</h1>\n                    </div>\n                    <div className=\"sidebar-search\">\n                        <div className=\"search-input-wrapper\">\n                             <MagnifyingGlassIcon className=\"search-icon\" />\n                             <input type=\"text\" placeholder=\"Search users\" className=\"search-input\" />\n                        </div>\n                    </div>\n                    <ul className=\"user-list\">\n                        {users.filter(user => user.username !== currentUser.username).map(user => (\n                            <li key={user.username}>\n                                <button onClick={() => setSelectedUser(user)} className={`user-item ${selectedUser?.username === user.username ? 'selected' : ''}`}>\n                                    {getAvatar(user.username)}\n                                    <div className=\"user-info\">\n                                        <div className=\"user-name\">{user.username}</div>\n                                        <div className=\"user-preview\">{getLastPreview(user)}</div>\n                                    </div>\n                                    <div className={`status-indicator ${user.isOnline ? 'online' : ''}`}></div>\n                                </button>\n                            </li>\n                        ))}\n                    </ul>\n                </aside>\n\n                <main className=\"chat-area\">\n                    {selectedUser ? (\n                        <>\n                            <div className=\"chat-header\">\n                                <div className=\"chat-header-user\">\n                                    <button onClick={() => setSidebarOpen(true)} className=\"icon-button sidebar-toggle\">\n                                        <Bars3Icon />\n                                    </button>\n                                    {getAvatar(selectedUser.username)}\n                                    <div>\n                                        <div className=\"chat-header-username\">{selectedUser.username}</div>\n                                        <div className=\"chat-header-status\">\n                                            {isTyping ? (\n                                                <span className=\"typing-indicator\">typing...</span>\n                                            ) : (\n                                                <>\n                                                <div className={`status-indicator ${selectedUser.isOnline ? 'online' : ''}`}></div>\n                                                {selectedUser.isOnline ? 'Online' : 'Offline'}\n                                                </>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"chat-header-actions\">\n                                    <button className=\"icon-button\"><PhoneIcon /></button>\n                                    <button className=\"icon-button\"><EllipsisVerticalIcon /></button>\n                                </div>\n                            </div>\n                            <div className=\"message-list\" ref={messageListRef}>\n                               <div className=\"message-list-inner\">\n                                {messages.map((msg, idx) => (\n                                    <MessageItem \n                                        key={msg.timestamp || idx}\n                                        msg={msg} \n                                        currentUser={currentUser} \n                                        getDecryptedPrivateKey={getDecryptedPrivateKey} \n                                    />\n                                ))}\n                                </div>\n                            </div>\n                            <div className=\"chat-input-area\">\n                                <form onSubmit={sendMessage} className=\"chat-input-form\">\n                                    <button type=\"button\" className=\"icon-button\"><FaceSmileIcon /></button>\n                                    <button type=\"button\" className=\"icon-button\"><PaperClipIcon /></button>\n                                    <textarea\n                                        ref={textareaRef}\n                                        value={input}\n                                        onChange={e => setInput(e.target.value)}\n                                        onKeyDown={(e) => {\n                                            if (e.key === 'Enter' && !e.shiftKey) {\n                                                e.preventDefault();\n                                                sendMessage(e);\n                                            }\n                                        }}\n                                        placeholder=\"Type a message...\"\n                                        rows={1}\n                                        className=\"message-input\"\n                                    />\n                                    <button type=\"submit\" disabled={loading || !input.trim()} className=\"send-button\">\n                                        <PaperAirplaneIcon />\n                                    </button>\n                                </form>\n                            </div>\n                        </>\n                    ) : (\n                        <div className=\"welcome-screen\">\n                           <button onClick={() => setSidebarOpen(true)} className=\"icon-button sidebar-toggle\" style={{position: 'absolute', top: '1rem', left: '1rem'}}>\n                                <Bars3Icon />\n                            </button>\n                            <UserCircleIcon className=\"welcome-icon\" />\n                            <h2>Welcome to SecureChat</h2>\n                            <p>Select a user from the sidebar to begin a conversation.</p>\n                        </div>\n                    )}\n                </main>\n            </div>\n        </>\n    );\n};\n\nexport default ChatContainer;\n\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;;AAE1D;AACA;AACA,SAASC,QAAQ,EAAEC,WAAW,QAAQ,oBAAoB;AAC1D,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,oBAAoB,EAAEC,oBAAoB,EAAEC,oBAAoB,QAAQ,uBAAuB;;AAGxG;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,KAAK,GAAGA,CAAA,kBACZH,OAAA;EAAAI,QAAA,EAAQ;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
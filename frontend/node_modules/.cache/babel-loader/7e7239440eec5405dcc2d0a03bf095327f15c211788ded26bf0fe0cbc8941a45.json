{"ast":null,"code":"var _jsxFileName = \"/home/rounak-dagar/securechat/frontend/src/components/Chat/ChatContainer.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\n\n// In a real app, these would be imported from separate files\n// For this example, they are placeholder functions.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst usersAPI = {\n  getAllUsers: () => Promise.resolve({\n    data: [{\n      username: 'Alice',\n      isOnline: true,\n      publicKey: '...'\n    }, {\n      username: 'Bob',\n      isOnline: false,\n      publicKey: '...'\n    }, {\n      username: 'Charlie',\n      isOnline: true,\n      publicKey: '...'\n    }, {\n      username: 'Diana',\n      isOnline: false,\n      publicKey: '...'\n    }]\n  })\n};\nconst messagesAPI = {\n  getConversation: username => Promise.resolve({\n    data: [{\n      from: 'Alice',\n      to: 'currentUser',\n      encryptedContent: '...',\n      encryptedAESKey: '...',\n      timestamp: Date.now() - 200000,\n      plaintext: 'Hey! How have you been?'\n    }, {\n      from: 'currentUser',\n      to: 'Alice',\n      encryptedContent: '...',\n      encryptedAESKey: '...',\n      timestamp: Date.now() - 100000,\n      plaintext: 'Hello there! Doing great, thanks. This is a sent message.'\n    }, {\n      from: 'Alice',\n      to: 'currentUser',\n      encryptedContent: '...',\n      encryptedAESKey: '...',\n      timestamp: Date.now(),\n      plaintext: 'Awesome! This is a received message. How are you finding the new UI?'\n    }]\n  }),\n  sendMessage: data => Promise.resolve({\n    status: 200\n  })\n};\nconst crypto = {\n  hybridEncryptMessage: (input, key) => Promise.resolve({\n    encryptedMessage: `enc(${input})`,\n    encryptedAESKey: 'key'\n  }),\n  hybridDecryptMessage: (content, key, privateKey) => Promise.resolve(`dec(${content})`),\n  decryptPrivateKeyAES: (key, pass) => Promise.resolve('private-key')\n};\nconst socket = {\n  on: (event, callback) => {},\n  off: event => {},\n  emit: (event, data) => {}\n};\nconst getSocket = () => socket;\n\n// --- STYLES ---\n// All custom CSS is embedded here for a single-file component.\nconst Style = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n\n    :root {\n      --background-dark: #121212;\n      --background-light: #1E1E1E;\n      --sidebar-bg: #181818;\n      --accent-primary: #0A84FF;\n      --accent-primary-hover: #0A78E6;\n      --text-primary: #EAEAEA;\n      --text-secondary: #A0A0A0;\n      --border-color: #333333;\n      --online-indicator: #34C759;\n      --offline-indicator: #8E8E93;\n      --message-sent-bg: var(--accent-primary);\n      --message-received-bg: #3A3A3C;\n      --font-family: 'Inter', -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n    }\n\n    * {\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n    }\n\n    body {\n      overflow: hidden;\n    }\n\n    .chat-app-container {\n      display: flex;\n      height: 100vh;\n      width: 100vw;\n      background-color: var(--background-dark);\n      color: var(--text-primary);\n      font-family: var(--font-family);\n    }\n\n    /* --- Sidebar --- */\n    .sidebar {\n      width: 320px;\n      height: 100%;\n      background-color: var(--sidebar-bg);\n      border-right: 1px solid var(--border-color);\n      display: flex;\n      flex-direction: column;\n      transition: transform 0.3s ease-in-out;\n    }\n\n    .sidebar-header {\n      padding: 1.25rem;\n      border-bottom: 1px solid var(--border-color);\n    }\n\n    .sidebar-header h1 {\n      font-size: 1.5rem;\n      font-weight: 700;\n      background: linear-gradient(90deg, var(--accent-primary), #34C759);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n    \n    .sidebar-search {\n        padding: 1rem 1.25rem;\n    }\n\n    .search-input-wrapper {\n        position: relative;\n    }\n\n    .search-input {\n        width: 100%;\n        padding: 0.65rem 1rem 0.65rem 2.5rem;\n        border-radius: 8px;\n        background-color: var(--background-light);\n        border: 1px solid var(--border-color);\n        color: var(--text-primary);\n        font-size: 0.9rem;\n        outline: none;\n        transition: border-color 0.2s, box-shadow 0.2s;\n    }\n\n    .search-input:focus {\n        border-color: var(--accent-primary);\n        box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);\n    }\n\n    .search-icon {\n        position: absolute;\n        left: 0.85rem;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 1.1rem;\n        height: 1.1rem;\n        color: var(--text-secondary);\n    }\n\n    .user-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 0 0.75rem 1.25rem 0.75rem;\n    }\n    \n    .user-list::-webkit-scrollbar {\n        width: 6px;\n    }\n    .user-list::-webkit-scrollbar-thumb {\n        background-color: #444;\n        border-radius: 3px;\n    }\n\n    .user-item {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      padding: 0.75rem;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: background-color 0.2s, transform 0.1s ease-in-out;\n      width: 100%;\n      background: none;\n      border: none;\n      color: inherit;\n      text-align: left;\n    }\n\n    .user-item:hover {\n      background-color: var(--background-light);\n    }\n\n    .user-item:active {\n        transform: scale(0.98);\n    }\n\n    .user-item.selected {\n      background-color: var(--accent-primary);\n      color: white;\n    }\n    .user-item.selected .user-preview,\n    .user-item.selected .user-name {\n        color: white;\n    }\n\n\n    .avatar {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n      background-color: var(--accent-primary);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-weight: 600;\n      font-size: 1.1rem;\n      color: white;\n      user-select: none;\n      flex-shrink: 0;\n    }\n    \n    .user-info {\n        flex: 1;\n        min-width: 0;\n    }\n\n    .user-name {\n      font-weight: 600;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: var(--text-primary);\n    }\n\n    .user-preview {\n      font-size: 0.85rem;\n      color: var(--text-secondary);\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      font-weight: 500;\n    }\n    \n    .status-indicator {\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        background-color: var(--offline-indicator);\n        flex-shrink: 0;\n        border: 2px solid var(--sidebar-bg);\n    }\n    \n    .status-indicator.online {\n        background-color: var(--online-indicator);\n    }\n\n    /* --- Chat Area --- */\n    .chat-area {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n\n    .chat-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0.85rem 1.5rem;\n      border-bottom: 1px solid var(--border-color);\n      background-color: var(--background-dark);\n      flex-shrink: 0;\n    }\n    \n    .chat-header-user {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n    }\n    \n    .chat-header-user .avatar {\n        width: 40px;\n        height: 40px;\n        font-size: 1rem;\n    }\n\n    .chat-header-username {\n        font-weight: 600;\n    }\n\n    .chat-header-status {\n        font-size: 0.8rem;\n        color: var(--text-secondary);\n        display: flex;\n        align-items: center;\n        gap: 0.3rem;\n        min-height: 14px; /* Reserve space for typing indicator */\n    }\n\n    .typing-indicator {\n      font-style: italic;\n      color: var(--accent-primary);\n    }\n\n    .chat-header-status .status-indicator {\n        width: 8px;\n        height: 8px;\n        border: none;\n    }\n\n    .chat-header-actions {\n        display: flex;\n        gap: 0.5rem;\n    }\n\n    .icon-button {\n      background: none;\n      border: none;\n      padding: 0.5rem;\n      border-radius: 50%;\n      cursor: pointer;\n      color: var(--text-secondary);\n      transition: background-color 0.2s, color 0.2s;\n    }\n\n    .icon-button:hover {\n      background-color: var(--background-light);\n      color: var(--text-primary);\n    }\n    .icon-button svg {\n        width: 1.4rem;\n        height: 1.4rem;\n    }\n    \n    .sidebar-toggle {\n        display: none; /* Hidden on desktop */\n    }\n\n    .message-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 1.5rem;\n      display: flex;\n      flex-direction: column-reverse;\n    }\n    \n    .message-list-inner {\n        display: flex;\n        flex-direction: column;\n        gap: 0.75rem;\n    }\n    \n    .message-list::-webkit-scrollbar {\n        width: 6px;\n    }\n    .message-list::-webkit-scrollbar-thumb {\n        background-color: #444;\n        border-radius: 3px;\n    }\n    \n    @keyframes fadeInSlideUp {\n        from {\n            opacity: 0;\n            transform: translateY(10px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .message-item {\n        display: flex;\n        max-width: 70%;\n        animation: fadeInSlideUp 0.3s ease-out;\n    }\n\n    .message-item.sent {\n        align-self: flex-end;\n    }\n    \n    .message-item.received {\n        align-self: flex-start;\n    }\n\n    .message-bubble {\n        padding: 0.75rem 1rem;\n        border-radius: 18px;\n        line-height: 1.5;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n    }\n    .message-bubble p {\n        word-wrap: break-word;\n        white-space: pre-wrap;\n    }\n    .message-timestamp {\n        font-size: 0.75rem;\n        margin-top: 0.25rem;\n        text-align: right;\n        opacity: 0.7;\n    }\n\n    .message-item.sent .message-bubble {\n        background-color: var(--message-sent-bg);\n        color: white;\n        border-bottom-right-radius: 4px;\n    }\n    \n    .message-item.received .message-bubble {\n        background-color: var(--message-received-bg);\n        color: var(--text-primary);\n        border-bottom-left-radius: 4px;\n    }\n\n    .chat-input-area {\n      padding: 1rem 1.5rem;\n      border-top: 1px solid var(--border-color);\n      background-color: var(--sidebar-bg);\n    }\n\n    .chat-input-form {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      background-color: var(--background-light);\n      border-radius: 24px;\n      padding: 0.5rem;\n      border: 1px solid transparent;\n      transition: border-color 0.2s, box-shadow 0.2s;\n    }\n    \n    .chat-input-form:focus-within {\n        border-color: var(--accent-primary);\n        box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);\n    }\n\n    .chat-input-form .icon-button {\n        flex-shrink: 0;\n    }\n    .chat-input-form .icon-button svg {\n        width: 1.5rem;\n        height: 1.5rem;\n    }\n\n    .message-input {\n      flex: 1;\n      border: none;\n      background: none;\n      color: var(--text-primary);\n      font-size: 1rem;\n      padding: 0.5rem;\n      outline: none;\n      resize: none;\n      max-height: 120px;\n      font-family: inherit;\n    }\n    .message-input::placeholder {\n        color: var(--text-secondary);\n    }\n\n    .send-button {\n        background-color: var(--accent-primary);\n        border: none;\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        transition: background-color 0.2s, transform 0.1s ease-in-out;\n        flex-shrink: 0;\n    }\n    .send-button:hover {\n        background-color: var(--accent-primary-hover);\n    }\n    .send-button:active {\n        transform: scale(0.9);\n    }\n    .send-button:disabled {\n        background-color: #555;\n        cursor: not-allowed;\n        transform: scale(1);\n    }\n    .send-button svg {\n        width: 1.5rem;\n        height: 1.5rem;\n        color: white;\n        transform: translateX(1px);\n    }\n\n    .welcome-screen {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        text-align: center;\n        padding: 2rem;\n        color: var(--text-secondary);\n    }\n\n    .welcome-icon {\n        width: 6rem;\n        height: 6rem;\n        margin-bottom: 1.5rem;\n        color: #444;\n    }\n\n    .welcome-screen h2 {\n        font-size: 1.75rem;\n        font-weight: 600;\n        color: var(--text-primary);\n        margin-bottom: 0.5rem;\n    }\n\n    /* --- Responsiveness --- */\n    @media (max-width: 768px) {\n        .sidebar {\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            transform: translateX(-100%);\n            z-index: 100;\n        }\n\n        .sidebar.open {\n            transform: translateX(0);\n        }\n\n        .sidebar-toggle {\n            display: block;\n        }\n\n        .chat-app-container.sidebar-open::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 99;\n        }\n        \n        .chat-area {\n            width: 100%;\n        }\n    }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 39,\n  columnNumber: 3\n}, this);\n\n// --- SVG ICONS ---\n_c = Style;\nconst Icon = ({\n  children,\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  strokeWidth: 1.5,\n  stroke: \"currentColor\",\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 531,\n  columnNumber: 43\n}, this);\n_c2 = Icon;\nconst MagnifyingGlassIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 532,\n    columnNumber: 76\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 532,\n  columnNumber: 48\n}, this);\n_c3 = MagnifyingGlassIcon;\nconst PhoneIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 533,\n    columnNumber: 66\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 533,\n  columnNumber: 38\n}, this);\n_c4 = PhoneIcon;\nconst EllipsisVerticalIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 534,\n    columnNumber: 77\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 534,\n  columnNumber: 49\n}, this);\n_c5 = EllipsisVerticalIcon;\nconst Bars3Icon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 535,\n    columnNumber: 66\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 535,\n  columnNumber: 38\n}, this);\n_c6 = Bars3Icon;\nconst PaperAirplaneIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 536,\n    columnNumber: 74\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 536,\n  columnNumber: 46\n}, this);\n_c7 = PaperAirplaneIcon;\nconst FaceSmileIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.182 15l-6.364 0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 537,\n    columnNumber: 70\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21 12c0 5.523-4.477 10-10 10S1 17.523 1 12 5.477 2 11 2s10 4.477 10 10z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 537,\n    columnNumber: 147\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 10h.01M15 10h.01\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 537,\n    columnNumber: 277\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 537,\n  columnNumber: 42\n}, this);\n_c8 = FaceSmileIcon;\nconst PaperClipIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.122 2.122l7.81-7.81\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 538,\n    columnNumber: 70\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 538,\n  columnNumber: 42\n}, this);\n_c9 = PaperClipIcon;\nconst UserCircleIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(Icon, {\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 539,\n    columnNumber: 71\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 539,\n  columnNumber: 43\n}, this);\n_c0 = UserCircleIcon;\nconst MessageItem = ({\n  msg,\n  currentUser,\n  getDecryptedPrivateKey\n}) => {\n  _s();\n  const [decrypted, setDecrypted] = useState('');\n  useEffect(() => {\n    const decrypt = async () => {\n      if (msg.from === currentUser.username && msg.plaintext) {\n        setDecrypted(msg.plaintext);\n      } else {\n        try {\n          // This is a placeholder for the actual decryption logic\n          // const privateKeyArmored = await getDecryptedPrivateKey();\n          // const dec = await crypto.hybridDecryptMessage(msg.encryptedContent, msg.encryptedAESKey, privateKeyArmored);\n          const dec = msg.plaintext || `[Encrypted: ${msg.encryptedContent}]`; // Fallback for demo\n          setDecrypted(dec);\n        } catch {\n          setDecrypted('[Failed to decrypt]');\n        }\n      }\n    };\n    decrypt();\n  }, [msg, currentUser, getDecryptedPrivateKey]);\n  const isSent = msg.from === currentUser.username;\n  const messageClasses = isSent ? 'message-item sent' : 'message-item received';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: messageClasses,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: decrypted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-timestamp\",\n        children: new Date(msg.timestamp || Date.now()).toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 567,\n    columnNumber: 9\n  }, this);\n};\n_s(MessageItem, \"p5qMHw/IAbEL1ybyHdCYv2QSVmY=\");\n_c1 = MessageItem;\nconst ChatContainer = ({\n  currentUser = {\n    username: 'currentUser'\n  }\n}) => {\n  _s2();\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const textareaRef = useRef(null);\n  const messageListRef = useRef(null);\n\n  // --- Mock Crypto/Auth Refs ---\n  const decryptedPrivateKeyRef = useRef(null);\n  const passphraseRef = useRef('');\n  useEffect(() => {\n    usersAPI.getAllUsers().then(res => setUsers(res.data));\n  }, []);\n  useEffect(() => {\n    if (selectedUser) {\n      messagesAPI.getConversation(selectedUser.username).then(res => setMessages(res.data.slice().reverse()));\n      setSidebarOpen(false);\n    }\n  }, [selectedUser]);\n\n  // Auto-resize textarea and handle typing indicator\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n    if (input.trim().length > 0) {\n      setIsTyping(true);\n    } else {\n      setIsTyping(false);\n    }\n  }, [input]);\n\n  // Scroll to bottom when new message is added\n  useEffect(() => {\n    if (messageListRef.current) {\n      messageListRef.current.scrollTop = messageListRef.current.scrollHeight;\n    }\n  }, [messages]);\n  const getDecryptedPrivateKey = async () => {\n    // Mock implementation of this function\n    if (decryptedPrivateKeyRef.current) return decryptedPrivateKeyRef.current;\n    const passphrase = window.prompt('Enter your password:');\n    if (!passphrase) throw new Error('No password provided');\n    passphraseRef.current = passphrase;\n    const privateKey = await crypto.decryptPrivateKeyAES('key', passphrase);\n    decryptedPrivateKeyRef.current = privateKey;\n    return privateKey;\n  };\n  const sendMessage = async e => {\n    e.preventDefault();\n    const trimmedInput = input.trim();\n    if (!trimmedInput || !selectedUser) return;\n    setLoading(true);\n    try {\n      const {\n        encryptedMessage,\n        encryptedAESKey\n      } = await crypto.hybridEncryptMessage(trimmedInput, selectedUser.publicKey);\n      const messageData = {\n        from: currentUser.username,\n        to: selectedUser.username,\n        encryptedContent: encryptedMessage,\n        encryptedAESKey,\n        messageType: 'text',\n        timestamp: Date.now(),\n        plaintext: trimmedInput // For immediate display\n      };\n      await messagesAPI.sendMessage(messageData);\n      setMessages(prev => [messageData, ...prev]);\n      getSocket().emit('send_message', messageData);\n      setInput('');\n    } catch (err) {\n      console.error('Failed to send message', err);\n    }\n    setLoading(false);\n  };\n  const getAvatar = username => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar\",\n    children: username.slice(0, 2).toUpperCase()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 663,\n    columnNumber: 9\n  }, this);\n  const getLastPreview = user => \"Click to view messages\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Style, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-app-container ${isSidebarOpen ? 'sidebar-open' : ''}`,\n      onClick: () => isSidebarOpen && setSidebarOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: `sidebar ${isSidebarOpen ? 'open' : ''}`,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"SecureChat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-search\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n              className: \"search-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search users\",\n              className: \"search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"user-list\",\n          children: users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedUser(user),\n              className: `user-item ${(selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username) === user.username ? 'selected' : ''}`,\n              children: [getAvatar(user.username), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-name\",\n                  children: user.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 690,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-preview\",\n                  children: getLastPreview(user)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `status-indicator ${user.isOnline ? 'online' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 33\n            }, this)\n          }, user.username, false, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"chat-area\",\n        children: selectedUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-user\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSidebarOpen(true),\n                className: \"icon-button sidebar-toggle\",\n                children: /*#__PURE__*/_jsxDEV(Bars3Icon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 705,\n                columnNumber: 37\n              }, this), getAvatar(selectedUser.username), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-header-username\",\n                  children: selectedUser.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-header-status\",\n                  children: isTyping ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"typing-indicator\",\n                    children: \"typing...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 713,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `status-indicator ${selectedUser.isOnline ? 'online' : ''}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 716,\n                      columnNumber: 49\n                    }, this), selectedUser.isOnline ? 'Online' : 'Offline']\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"icon-button\",\n                children: /*#__PURE__*/_jsxDEV(PhoneIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 724,\n                  columnNumber: 69\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"icon-button\",\n                children: /*#__PURE__*/_jsxDEV(EllipsisVerticalIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 725,\n                  columnNumber: 69\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-list\",\n            ref: messageListRef,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-list-inner\",\n              children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(MessageItem, {\n                msg: msg,\n                currentUser: currentUser,\n                getDecryptedPrivateKey: getDecryptedPrivateKey\n              }, msg.timestamp || idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-input-area\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: sendMessage,\n              className: \"chat-input-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"icon-button\",\n                children: /*#__PURE__*/_jsxDEV(FaceSmileIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 742,\n                  columnNumber: 83\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"icon-button\",\n                children: /*#__PURE__*/_jsxDEV(PaperClipIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 743,\n                  columnNumber: 83\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: textareaRef,\n                value: input,\n                onChange: e => setInput(e.target.value),\n                onKeyDown: e => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    sendMessage(e);\n                  }\n                },\n                placeholder: \"Type a message...\",\n                rows: 1,\n                className: \"message-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: loading || !input.trim(),\n                className: \"send-button\",\n                children: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 758,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-screen\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarOpen(true),\n            className: \"icon-button sidebar-toggle\",\n            style: {\n              position: 'absolute',\n              top: '1rem',\n              left: '1rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(Bars3Icon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 767,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 766,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(UserCircleIcon, {\n            className: \"welcome-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Welcome to SecureChat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Select a user from the sidebar to begin a conversation.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s2(ChatContainer, \"PiLP8QnuBQuLebklX+OseJ/v8UU=\");\n_c10 = ChatContainer;\nexport default ChatContainer;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10;\n$RefreshReg$(_c, \"Style\");\n$RefreshReg$(_c2, \"Icon\");\n$RefreshReg$(_c3, \"MagnifyingGlassIcon\");\n$RefreshReg$(_c4, \"PhoneIcon\");\n$RefreshReg$(_c5, \"EllipsisVerticalIcon\");\n$RefreshReg$(_c6, \"Bars3Icon\");\n$RefreshReg$(_c7, \"PaperAirplaneIcon\");\n$RefreshReg$(_c8, \"FaceSmileIcon\");\n$RefreshReg$(_c9, \"PaperClipIcon\");\n$RefreshReg$(_c0, \"UserCircleIcon\");\n$RefreshReg$(_c1, \"MessageItem\");\n$RefreshReg$(_c10, \"ChatContainer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","usersAPI","getAllUsers","Promise","resolve","data","username","isOnline","publicKey","messagesAPI","getConversation","from","to","encryptedContent","encryptedAESKey","timestamp","Date","now","plaintext","sendMessage","status","crypto","hybridEncryptMessage","input","key","encryptedMessage","hybridDecryptMessage","content","privateKey","decryptPrivateKeyAES","pass","socket","on","event","callback","off","emit","getSocket","Style","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Icon","className","xmlns","fill","viewBox","strokeWidth","stroke","_c2","MagnifyingGlassIcon","strokeLinecap","strokeLinejoin","d","_c3","PhoneIcon","_c4","EllipsisVerticalIcon","_c5","Bars3Icon","_c6","PaperAirplaneIcon","_c7","FaceSmileIcon","_c8","PaperClipIcon","_c9","UserCircleIcon","_c0","MessageItem","msg","currentUser","getDecryptedPrivateKey","_s","decrypted","setDecrypted","decrypt","dec","isSent","messageClasses","toLocaleTimeString","hour","minute","_c1","ChatContainer","_s2","isSidebarOpen","setSidebarOpen","users","setUsers","selectedUser","setSelectedUser","messages","setMessages","setInput","loading","setLoading","isTyping","setIsTyping","textareaRef","messageListRef","decryptedPrivateKeyRef","passphraseRef","then","res","slice","reverse","current","style","height","scrollHeight","trim","length","scrollTop","passphrase","window","prompt","Error","e","preventDefault","trimmedInput","messageData","messageType","prev","err","console","error","getAvatar","toUpperCase","getLastPreview","user","onClick","stopPropagation","type","placeholder","map","ref","idx","onSubmit","value","onChange","target","onKeyDown","shiftKey","rows","disabled","position","top","left","_c10","$RefreshReg$"],"sources":["/home/rounak-dagar/securechat/frontend/src/components/Chat/ChatContainer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\n// In a real app, these would be imported from separate files\n// For this example, they are placeholder functions.\nconst usersAPI = {\n  getAllUsers: () => Promise.resolve({ data: [\n    { username: 'Alice', isOnline: true, publicKey: '...' },\n    { username: 'Bob', isOnline: false, publicKey: '...' },\n    { username: 'Charlie', isOnline: true, publicKey: '...' },\n    { username: 'Diana', isOnline: false, publicKey: '...' },\n  ] }),\n};\n\nconst messagesAPI = {\n  getConversation: (username) => Promise.resolve({ data: [\n      { from: 'Alice', to: 'currentUser', encryptedContent: '...', encryptedAESKey: '...', timestamp: Date.now() - 200000, plaintext: 'Hey! How have you been?' },\n      { from: 'currentUser', to: 'Alice', encryptedContent: '...', encryptedAESKey: '...', timestamp: Date.now() - 100000, plaintext: 'Hello there! Doing great, thanks. This is a sent message.' },\n      { from: 'Alice', to: 'currentUser', encryptedContent: '...', encryptedAESKey: '...', timestamp: Date.now(), plaintext: 'Awesome! This is a received message. How are you finding the new UI?' },\n  ] }),\n  sendMessage: (data) => Promise.resolve({ status: 200 }),\n};\n\nconst crypto = {\n  hybridEncryptMessage: (input, key) => Promise.resolve({ encryptedMessage: `enc(${input})`, encryptedAESKey: 'key' }),\n  hybridDecryptMessage: (content, key, privateKey) => Promise.resolve(`dec(${content})`),\n  decryptPrivateKeyAES: (key, pass) => Promise.resolve('private-key'),\n};\n\nconst socket = {\n  on: (event, callback) => {},\n  off: (event) => {},\n  emit: (event, data) => {},\n};\nconst getSocket = () => socket;\n\n// --- STYLES ---\n// All custom CSS is embedded here for a single-file component.\nconst Style = () => (\n  <style>{`\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n\n    :root {\n      --background-dark: #121212;\n      --background-light: #1E1E1E;\n      --sidebar-bg: #181818;\n      --accent-primary: #0A84FF;\n      --accent-primary-hover: #0A78E6;\n      --text-primary: #EAEAEA;\n      --text-secondary: #A0A0A0;\n      --border-color: #333333;\n      --online-indicator: #34C759;\n      --offline-indicator: #8E8E93;\n      --message-sent-bg: var(--accent-primary);\n      --message-received-bg: #3A3A3C;\n      --font-family: 'Inter', -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n    }\n\n    * {\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n    }\n\n    body {\n      overflow: hidden;\n    }\n\n    .chat-app-container {\n      display: flex;\n      height: 100vh;\n      width: 100vw;\n      background-color: var(--background-dark);\n      color: var(--text-primary);\n      font-family: var(--font-family);\n    }\n\n    /* --- Sidebar --- */\n    .sidebar {\n      width: 320px;\n      height: 100%;\n      background-color: var(--sidebar-bg);\n      border-right: 1px solid var(--border-color);\n      display: flex;\n      flex-direction: column;\n      transition: transform 0.3s ease-in-out;\n    }\n\n    .sidebar-header {\n      padding: 1.25rem;\n      border-bottom: 1px solid var(--border-color);\n    }\n\n    .sidebar-header h1 {\n      font-size: 1.5rem;\n      font-weight: 700;\n      background: linear-gradient(90deg, var(--accent-primary), #34C759);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n    \n    .sidebar-search {\n        padding: 1rem 1.25rem;\n    }\n\n    .search-input-wrapper {\n        position: relative;\n    }\n\n    .search-input {\n        width: 100%;\n        padding: 0.65rem 1rem 0.65rem 2.5rem;\n        border-radius: 8px;\n        background-color: var(--background-light);\n        border: 1px solid var(--border-color);\n        color: var(--text-primary);\n        font-size: 0.9rem;\n        outline: none;\n        transition: border-color 0.2s, box-shadow 0.2s;\n    }\n\n    .search-input:focus {\n        border-color: var(--accent-primary);\n        box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);\n    }\n\n    .search-icon {\n        position: absolute;\n        left: 0.85rem;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 1.1rem;\n        height: 1.1rem;\n        color: var(--text-secondary);\n    }\n\n    .user-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 0 0.75rem 1.25rem 0.75rem;\n    }\n    \n    .user-list::-webkit-scrollbar {\n        width: 6px;\n    }\n    .user-list::-webkit-scrollbar-thumb {\n        background-color: #444;\n        border-radius: 3px;\n    }\n\n    .user-item {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      padding: 0.75rem;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: background-color 0.2s, transform 0.1s ease-in-out;\n      width: 100%;\n      background: none;\n      border: none;\n      color: inherit;\n      text-align: left;\n    }\n\n    .user-item:hover {\n      background-color: var(--background-light);\n    }\n\n    .user-item:active {\n        transform: scale(0.98);\n    }\n\n    .user-item.selected {\n      background-color: var(--accent-primary);\n      color: white;\n    }\n    .user-item.selected .user-preview,\n    .user-item.selected .user-name {\n        color: white;\n    }\n\n\n    .avatar {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n      background-color: var(--accent-primary);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-weight: 600;\n      font-size: 1.1rem;\n      color: white;\n      user-select: none;\n      flex-shrink: 0;\n    }\n    \n    .user-info {\n        flex: 1;\n        min-width: 0;\n    }\n\n    .user-name {\n      font-weight: 600;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: var(--text-primary);\n    }\n\n    .user-preview {\n      font-size: 0.85rem;\n      color: var(--text-secondary);\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      font-weight: 500;\n    }\n    \n    .status-indicator {\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        background-color: var(--offline-indicator);\n        flex-shrink: 0;\n        border: 2px solid var(--sidebar-bg);\n    }\n    \n    .status-indicator.online {\n        background-color: var(--online-indicator);\n    }\n\n    /* --- Chat Area --- */\n    .chat-area {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n\n    .chat-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0.85rem 1.5rem;\n      border-bottom: 1px solid var(--border-color);\n      background-color: var(--background-dark);\n      flex-shrink: 0;\n    }\n    \n    .chat-header-user {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n    }\n    \n    .chat-header-user .avatar {\n        width: 40px;\n        height: 40px;\n        font-size: 1rem;\n    }\n\n    .chat-header-username {\n        font-weight: 600;\n    }\n\n    .chat-header-status {\n        font-size: 0.8rem;\n        color: var(--text-secondary);\n        display: flex;\n        align-items: center;\n        gap: 0.3rem;\n        min-height: 14px; /* Reserve space for typing indicator */\n    }\n\n    .typing-indicator {\n      font-style: italic;\n      color: var(--accent-primary);\n    }\n\n    .chat-header-status .status-indicator {\n        width: 8px;\n        height: 8px;\n        border: none;\n    }\n\n    .chat-header-actions {\n        display: flex;\n        gap: 0.5rem;\n    }\n\n    .icon-button {\n      background: none;\n      border: none;\n      padding: 0.5rem;\n      border-radius: 50%;\n      cursor: pointer;\n      color: var(--text-secondary);\n      transition: background-color 0.2s, color 0.2s;\n    }\n\n    .icon-button:hover {\n      background-color: var(--background-light);\n      color: var(--text-primary);\n    }\n    .icon-button svg {\n        width: 1.4rem;\n        height: 1.4rem;\n    }\n    \n    .sidebar-toggle {\n        display: none; /* Hidden on desktop */\n    }\n\n    .message-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 1.5rem;\n      display: flex;\n      flex-direction: column-reverse;\n    }\n    \n    .message-list-inner {\n        display: flex;\n        flex-direction: column;\n        gap: 0.75rem;\n    }\n    \n    .message-list::-webkit-scrollbar {\n        width: 6px;\n    }\n    .message-list::-webkit-scrollbar-thumb {\n        background-color: #444;\n        border-radius: 3px;\n    }\n    \n    @keyframes fadeInSlideUp {\n        from {\n            opacity: 0;\n            transform: translateY(10px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .message-item {\n        display: flex;\n        max-width: 70%;\n        animation: fadeInSlideUp 0.3s ease-out;\n    }\n\n    .message-item.sent {\n        align-self: flex-end;\n    }\n    \n    .message-item.received {\n        align-self: flex-start;\n    }\n\n    .message-bubble {\n        padding: 0.75rem 1rem;\n        border-radius: 18px;\n        line-height: 1.5;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n    }\n    .message-bubble p {\n        word-wrap: break-word;\n        white-space: pre-wrap;\n    }\n    .message-timestamp {\n        font-size: 0.75rem;\n        margin-top: 0.25rem;\n        text-align: right;\n        opacity: 0.7;\n    }\n\n    .message-item.sent .message-bubble {\n        background-color: var(--message-sent-bg);\n        color: white;\n        border-bottom-right-radius: 4px;\n    }\n    \n    .message-item.received .message-bubble {\n        background-color: var(--message-received-bg);\n        color: var(--text-primary);\n        border-bottom-left-radius: 4px;\n    }\n\n    .chat-input-area {\n      padding: 1rem 1.5rem;\n      border-top: 1px solid var(--border-color);\n      background-color: var(--sidebar-bg);\n    }\n\n    .chat-input-form {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      background-color: var(--background-light);\n      border-radius: 24px;\n      padding: 0.5rem;\n      border: 1px solid transparent;\n      transition: border-color 0.2s, box-shadow 0.2s;\n    }\n    \n    .chat-input-form:focus-within {\n        border-color: var(--accent-primary);\n        box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);\n    }\n\n    .chat-input-form .icon-button {\n        flex-shrink: 0;\n    }\n    .chat-input-form .icon-button svg {\n        width: 1.5rem;\n        height: 1.5rem;\n    }\n\n    .message-input {\n      flex: 1;\n      border: none;\n      background: none;\n      color: var(--text-primary);\n      font-size: 1rem;\n      padding: 0.5rem;\n      outline: none;\n      resize: none;\n      max-height: 120px;\n      font-family: inherit;\n    }\n    .message-input::placeholder {\n        color: var(--text-secondary);\n    }\n\n    .send-button {\n        background-color: var(--accent-primary);\n        border: none;\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        transition: background-color 0.2s, transform 0.1s ease-in-out;\n        flex-shrink: 0;\n    }\n    .send-button:hover {\n        background-color: var(--accent-primary-hover);\n    }\n    .send-button:active {\n        transform: scale(0.9);\n    }\n    .send-button:disabled {\n        background-color: #555;\n        cursor: not-allowed;\n        transform: scale(1);\n    }\n    .send-button svg {\n        width: 1.5rem;\n        height: 1.5rem;\n        color: white;\n        transform: translateX(1px);\n    }\n\n    .welcome-screen {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        text-align: center;\n        padding: 2rem;\n        color: var(--text-secondary);\n    }\n\n    .welcome-icon {\n        width: 6rem;\n        height: 6rem;\n        margin-bottom: 1.5rem;\n        color: #444;\n    }\n\n    .welcome-screen h2 {\n        font-size: 1.75rem;\n        font-weight: 600;\n        color: var(--text-primary);\n        margin-bottom: 0.5rem;\n    }\n\n    /* --- Responsiveness --- */\n    @media (max-width: 768px) {\n        .sidebar {\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            transform: translateX(-100%);\n            z-index: 100;\n        }\n\n        .sidebar.open {\n            transform: translateX(0);\n        }\n\n        .sidebar-toggle {\n            display: block;\n        }\n\n        .chat-app-container.sidebar-open::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 99;\n        }\n        \n        .chat-area {\n            width: 100%;\n        }\n    }\n  `}</style>\n);\n\n// --- SVG ICONS ---\nconst Icon = ({ children, className }) => <svg className={className} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\">{children}</svg>;\nconst MagnifyingGlassIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\" /></Icon>;\nconst PhoneIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z\" /></Icon>;\nconst EllipsisVerticalIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z\" /></Icon>;\nconst Bars3Icon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\" /></Icon>;\nconst PaperAirplaneIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5\" /></Icon>;\nconst FaceSmileIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.182 15l-6.364 0\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 12c0 5.523-4.477 10-10 10S1 17.523 1 12 5.477 2 11 2s10 4.477 10 10z\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 10h.01M15 10h.01\" /></Icon>;\nconst PaperClipIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.122 2.122l7.81-7.81\" /></Icon>;\nconst UserCircleIcon = ({ className }) => <Icon className={className}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\" /></Icon>;\n\nconst MessageItem = ({ msg, currentUser, getDecryptedPrivateKey }) => {\n    const [decrypted, setDecrypted] = useState('');\n\n    useEffect(() => {\n        const decrypt = async () => {\n            if (msg.from === currentUser.username && msg.plaintext) {\n                setDecrypted(msg.plaintext);\n            } else {\n                try {\n                    // This is a placeholder for the actual decryption logic\n                    // const privateKeyArmored = await getDecryptedPrivateKey();\n                    // const dec = await crypto.hybridDecryptMessage(msg.encryptedContent, msg.encryptedAESKey, privateKeyArmored);\n                    const dec = msg.plaintext || `[Encrypted: ${msg.encryptedContent}]`; // Fallback for demo\n                    setDecrypted(dec);\n                } catch {\n                    setDecrypted('[Failed to decrypt]');\n                }\n            }\n        };\n        decrypt();\n    }, [msg, currentUser, getDecryptedPrivateKey]);\n\n    const isSent = msg.from === currentUser.username;\n    const messageClasses = isSent ? 'message-item sent' : 'message-item received';\n\n    return (\n        <div className={messageClasses}>\n            <div className=\"message-bubble\">\n                <p>{decrypted}</p>\n                <div className=\"message-timestamp\">\n                    {new Date(msg.timestamp || Date.now()).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                </div>\n            </div>\n        </div>\n    );\n};\n\n\nconst ChatContainer = ({ currentUser = { username: 'currentUser' } }) => {\n    const [isSidebarOpen, setSidebarOpen] = useState(false);\n    const [users, setUsers] = useState([]);\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [messages, setMessages] = useState([]);\n    const [input, setInput] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [isTyping, setIsTyping] = useState(false);\n    const textareaRef = useRef(null);\n    const messageListRef = useRef(null);\n\n    // --- Mock Crypto/Auth Refs ---\n    const decryptedPrivateKeyRef = useRef(null);\n    const passphraseRef = useRef('');\n\n    useEffect(() => {\n        usersAPI.getAllUsers().then(res => setUsers(res.data));\n    }, []);\n\n    useEffect(() => {\n        if (selectedUser) {\n            messagesAPI.getConversation(selectedUser.username).then(res => setMessages(res.data.slice().reverse()));\n            setSidebarOpen(false);\n        }\n    }, [selectedUser]);\n    \n    // Auto-resize textarea and handle typing indicator\n    useEffect(() => {\n        if (textareaRef.current) {\n            textareaRef.current.style.height = 'auto';\n            textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        }\n        if (input.trim().length > 0) {\n            setIsTyping(true);\n        } else {\n            setIsTyping(false);\n        }\n    }, [input]);\n\n    // Scroll to bottom when new message is added\n    useEffect(() => {\n        if (messageListRef.current) {\n            messageListRef.current.scrollTop = messageListRef.current.scrollHeight;\n        }\n    }, [messages]);\n\n    const getDecryptedPrivateKey = async () => {\n        // Mock implementation of this function\n        if (decryptedPrivateKeyRef.current) return decryptedPrivateKeyRef.current;\n        const passphrase = window.prompt('Enter your password:');\n        if (!passphrase) throw new Error('No password provided');\n        passphraseRef.current = passphrase;\n        const privateKey = await crypto.decryptPrivateKeyAES('key', passphrase);\n        decryptedPrivateKeyRef.current = privateKey;\n        return privateKey;\n    };\n\n    const sendMessage = async (e) => {\n        e.preventDefault();\n        const trimmedInput = input.trim();\n        if (!trimmedInput || !selectedUser) return;\n        setLoading(true);\n        try {\n            const { encryptedMessage, encryptedAESKey } = await crypto.hybridEncryptMessage(trimmedInput, selectedUser.publicKey);\n            const messageData = {\n                from: currentUser.username,\n                to: selectedUser.username,\n                encryptedContent: encryptedMessage,\n                encryptedAESKey,\n                messageType: 'text',\n                timestamp: Date.now(),\n                plaintext: trimmedInput // For immediate display\n            };\n            await messagesAPI.sendMessage(messageData);\n            setMessages(prev => [messageData, ...prev]);\n            getSocket().emit('send_message', messageData);\n            setInput('');\n        } catch (err) {\n            console.error('Failed to send message', err);\n        }\n        setLoading(false);\n    };\n\n    const getAvatar = (username) => (\n        <div className=\"avatar\">\n            {username.slice(0, 2).toUpperCase()}\n        </div>\n    );\n    \n    const getLastPreview = (user) => \"Click to view messages\";\n\n    return (\n        <>\n            <Style />\n            <div className={`chat-app-container ${isSidebarOpen ? 'sidebar-open' : ''}`} onClick={() => isSidebarOpen && setSidebarOpen(false)}>\n                <aside className={`sidebar ${isSidebarOpen ? 'open' : ''}`} onClick={e => e.stopPropagation()}>\n                    <div className=\"sidebar-header\">\n                        <h1>SecureChat</h1>\n                    </div>\n                    <div className=\"sidebar-search\">\n                        <div className=\"search-input-wrapper\">\n                             <MagnifyingGlassIcon className=\"search-icon\" />\n                             <input type=\"text\" placeholder=\"Search users\" className=\"search-input\" />\n                        </div>\n                    </div>\n                    <ul className=\"user-list\">\n                        {users.map(user => (\n                            <li key={user.username}>\n                                <button onClick={() => setSelectedUser(user)} className={`user-item ${selectedUser?.username === user.username ? 'selected' : ''}`}>\n                                    {getAvatar(user.username)}\n                                    <div className=\"user-info\">\n                                        <div className=\"user-name\">{user.username}</div>\n                                        <div className=\"user-preview\">{getLastPreview(user)}</div>\n                                    </div>\n                                    <div className={`status-indicator ${user.isOnline ? 'online' : ''}`}></div>\n                                </button>\n                            </li>\n                        ))}\n                    </ul>\n                </aside>\n\n                <main className=\"chat-area\">\n                    {selectedUser ? (\n                        <>\n                            <div className=\"chat-header\">\n                                <div className=\"chat-header-user\">\n                                    <button onClick={() => setSidebarOpen(true)} className=\"icon-button sidebar-toggle\">\n                                        <Bars3Icon />\n                                    </button>\n                                    {getAvatar(selectedUser.username)}\n                                    <div>\n                                        <div className=\"chat-header-username\">{selectedUser.username}</div>\n                                        <div className=\"chat-header-status\">\n                                            {isTyping ? (\n                                                <span className=\"typing-indicator\">typing...</span>\n                                            ) : (\n                                                <>\n                                                <div className={`status-indicator ${selectedUser.isOnline ? 'online' : ''}`}></div>\n                                                {selectedUser.isOnline ? 'Online' : 'Offline'}\n                                                </>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"chat-header-actions\">\n                                    <button className=\"icon-button\"><PhoneIcon /></button>\n                                    <button className=\"icon-button\"><EllipsisVerticalIcon /></button>\n                                </div>\n                            </div>\n                            <div className=\"message-list\" ref={messageListRef}>\n                               <div className=\"message-list-inner\">\n                                {messages.map((msg, idx) => (\n                                    <MessageItem \n                                        key={msg.timestamp || idx}\n                                        msg={msg} \n                                        currentUser={currentUser} \n                                        getDecryptedPrivateKey={getDecryptedPrivateKey} \n                                    />\n                                ))}\n                                </div>\n                            </div>\n                            <div className=\"chat-input-area\">\n                                <form onSubmit={sendMessage} className=\"chat-input-form\">\n                                    <button type=\"button\" className=\"icon-button\"><FaceSmileIcon /></button>\n                                    <button type=\"button\" className=\"icon-button\"><PaperClipIcon /></button>\n                                    <textarea\n                                        ref={textareaRef}\n                                        value={input}\n                                        onChange={e => setInput(e.target.value)}\n                                        onKeyDown={(e) => {\n                                            if (e.key === 'Enter' && !e.shiftKey) {\n                                                e.preventDefault();\n                                                sendMessage(e);\n                                            }\n                                        }}\n                                        placeholder=\"Type a message...\"\n                                        rows={1}\n                                        className=\"message-input\"\n                                    />\n                                    <button type=\"submit\" disabled={loading || !input.trim()} className=\"send-button\">\n                                        <PaperAirplaneIcon />\n                                    </button>\n                                </form>\n                            </div>\n                        </>\n                    ) : (\n                        <div className=\"welcome-screen\">\n                           <button onClick={() => setSidebarOpen(true)} className=\"icon-button sidebar-toggle\" style={{position: 'absolute', top: '1rem', left: '1rem'}}>\n                                <Bars3Icon />\n                            </button>\n                            <UserCircleIcon className=\"welcome-icon\" />\n                            <h2>Welcome to SecureChat</h2>\n                            <p>Select a user from the sidebar to begin a conversation.</p>\n                        </div>\n                    )}\n                </main>\n            </div>\n        </>\n    );\n};\n\nexport default ChatContainer;\n\n\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;;AAE1D;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,QAAQ,GAAG;EACfC,WAAW,EAAEA,CAAA,KAAMC,OAAO,CAACC,OAAO,CAAC;IAAEC,IAAI,EAAE,CACzC;MAAEC,QAAQ,EAAE,OAAO;MAAEC,QAAQ,EAAE,IAAI;MAAEC,SAAS,EAAE;IAAM,CAAC,EACvD;MAAEF,QAAQ,EAAE,KAAK;MAAEC,QAAQ,EAAE,KAAK;MAAEC,SAAS,EAAE;IAAM,CAAC,EACtD;MAAEF,QAAQ,EAAE,SAAS;MAAEC,QAAQ,EAAE,IAAI;MAAEC,SAAS,EAAE;IAAM,CAAC,EACzD;MAAEF,QAAQ,EAAE,OAAO;MAAEC,QAAQ,EAAE,KAAK;MAAEC,SAAS,EAAE;IAAM,CAAC;EACxD,CAAC;AACL,CAAC;AAED,MAAMC,WAAW,GAAG;EAClBC,eAAe,EAAGJ,QAAQ,IAAKH,OAAO,CAACC,OAAO,CAAC;IAAEC,IAAI,EAAE,CACnD;MAAEM,IAAI,EAAE,OAAO;MAAEC,EAAE,EAAE,aAAa;MAAEC,gBAAgB,EAAE,KAAK;MAAEC,eAAe,EAAE,KAAK;MAAEC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,MAAM;MAAEC,SAAS,EAAE;IAA0B,CAAC,EAC3J;MAAEP,IAAI,EAAE,aAAa;MAAEC,EAAE,EAAE,OAAO;MAAEC,gBAAgB,EAAE,KAAK;MAAEC,eAAe,EAAE,KAAK;MAAEC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,MAAM;MAAEC,SAAS,EAAE;IAA4D,CAAC,EAC7L;MAAEP,IAAI,EAAE,OAAO;MAAEC,EAAE,EAAE,aAAa;MAAEC,gBAAgB,EAAE,KAAK;MAAEC,eAAe,EAAE,KAAK;MAAEC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MAAEC,SAAS,EAAE;IAAuE,CAAC;EACjM,CAAC,CAAC;EACJC,WAAW,EAAGd,IAAI,IAAKF,OAAO,CAACC,OAAO,CAAC;IAAEgB,MAAM,EAAE;EAAI,CAAC;AACxD,CAAC;AAED,MAAMC,MAAM,GAAG;EACbC,oBAAoB,EAAEA,CAACC,KAAK,EAAEC,GAAG,KAAKrB,OAAO,CAACC,OAAO,CAAC;IAAEqB,gBAAgB,EAAE,OAAOF,KAAK,GAAG;IAAET,eAAe,EAAE;EAAM,CAAC,CAAC;EACpHY,oBAAoB,EAAEA,CAACC,OAAO,EAAEH,GAAG,EAAEI,UAAU,KAAKzB,OAAO,CAACC,OAAO,CAAC,OAAOuB,OAAO,GAAG,CAAC;EACtFE,oBAAoB,EAAEA,CAACL,GAAG,EAAEM,IAAI,KAAK3B,OAAO,CAACC,OAAO,CAAC,aAAa;AACpE,CAAC;AAED,MAAM2B,MAAM,GAAG;EACbC,EAAE,EAAEA,CAACC,KAAK,EAAEC,QAAQ,KAAK,CAAC,CAAC;EAC3BC,GAAG,EAAGF,KAAK,IAAK,CAAC,CAAC;EAClBG,IAAI,EAAEA,CAACH,KAAK,EAAE5B,IAAI,KAAK,CAAC;AAC1B,CAAC;AACD,MAAMgC,SAAS,GAAGA,CAAA,KAAMN,MAAM;;AAE9B;AACA;AACA,MAAMO,KAAK,GAAGA,CAAA,kBACZxC,OAAA;EAAAyC,QAAA,EAAQ;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAG;EAAAC,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAQ,CACV;;AAED;AAAAC,EAAA,GA5eMN,KAAK;AA6eX,MAAMO,IAAI,GAAGA,CAAC;EAAEN,QAAQ;EAAEO;AAAU,CAAC,kBAAKhD,OAAA;EAAKgD,SAAS,EAAEA,SAAU;EAACC,KAAK,EAAC,4BAA4B;EAACC,IAAI,EAAC,MAAM;EAACC,OAAO,EAAC,WAAW;EAACC,WAAW,EAAE,GAAI;EAACC,MAAM,EAAC,cAAc;EAAAZ,QAAA,EAAEA;AAAQ;EAAAC,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAM,CAAC;AAACS,GAAA,GAA3LP,IAAI;AACV,MAAMQ,mBAAmB,GAAGA,CAAC;EAAEP;AAAU,CAAC,kBAAKhD,OAAA,CAAC+C,IAAI;EAACC,SAAS,EAAEA,SAAU;EAAAP,QAAA,eAACzC,OAAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/home/rounak-dagar/securechat/frontend/src/components/Chat/ChatContainer.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\n\n// NOTE: These imports point to services that should exist in your application structure.\n// No changes to the logic have been made.\nimport { usersAPI, messagesAPI } from '../../services/api';\nimport { getSocket } from '../../services/socket';\nimport { hybridEncryptMessage, hybridDecryptMessage, decryptPrivateKeyAES } from '../../services/crypto';\n\n// --- STYLES ---\n// The component's styles have been updated to match the provided app.css file.\n// Additional styles have been added for elements not covered in the original CSS\n// to ensure a complete and polished UI, while respecting the light-theme design.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Style = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    /* Base styles from your app.css */\n    .chat-container-wrapper {\n      font-family: Arial, sans-serif;\n      background: #fff;\n      border-radius: 8px;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n      border: 1px solid #eee;\n      display: flex;\n      height: 80vh;\n      width: 100%;\n      max-width: 900px;\n      margin: 0 auto;\n      overflow: hidden;\n    }\n\n    .user-list {\n      width: 250px;\n      border-right: 1px solid #eee;\n      display: flex;\n      flex-direction: column;\n      background-color: #fcfcfc;\n    }\n    \n    .user-list-header {\n      padding: 15px;\n      font-size: 1.2rem;\n      font-weight: bold;\n      border-bottom: 1px solid #eee;\n      color: #333;\n    }\n\n    .user-list-body {\n      overflow-y: auto;\n      flex-grow: 1;\n    }\n    \n    .user-item {\n      display: flex;\n      align-items: center;\n      padding: 12px 15px;\n      cursor: pointer;\n      border-bottom: 1px solid #f0f0f0;\n      transition: background-color 0.2s;\n    }\n    \n    .user-item:hover {\n      background-color: #f1f1f1;\n    }\n\n    .user-item.selected {\n      background-color: #1976d2;\n      color: white;\n    }\n    .user-item.selected .user-name,\n    .user-item.selected .user-preview {\n      color: white;\n    }\n\n    .avatar {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      background-color: #1976d2;\n      color: white;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-right: 12px;\n      font-weight: bold;\n    }\n    \n    .user-info {\n      overflow: hidden;\n    }\n\n    .user-name {\n      font-weight: bold;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .user-preview {\n      font-size: 0.85em;\n      color: #888;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .chat-main {\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .chat-header {\n      display: flex;\n      align-items: center;\n      padding: 10px 20px;\n      border-bottom: 1px solid #eee;\n      background: #fdfdfd;\n    }\n    \n    .chat-header .user-name {\n      font-size: 1.1em;\n    }\n\n    .messages {\n      flex-grow: 1;\n      overflow-y: auto;\n      background: #fafafa;\n      padding: 20px;\n      display: flex;\n      flex-direction: column-reverse; /* To keep view at the bottom */\n    }\n    \n    .message-list-inner {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n    .message {\n      display: flex;\n      max-width: 75%;\n    }\n\n    .message-bubble {\n      padding: 10px 15px;\n      border-radius: 18px;\n    }\n\n    .message.sent {\n      align-self: flex-end;\n      text-align: right;\n    }\n    .message.sent .message-bubble {\n      background: #1976d2;\n      color: #fff;\n      border-bottom-right-radius: 4px;\n    }\n\n    .message.received {\n      align-self: flex-start;\n      text-align: left;\n    }\n    .message.received .message-bubble {\n       background: #e5e5ea;\n       color: #333;\n       border-bottom-left-radius: 4px;\n    }\n    \n    .message-timestamp {\n      font-size: 0.75em;\n      margin-top: 4px;\n      color: #999;\n    }\n    .message.sent .message-timestamp {\n        color: #e0e0e0;\n        opacity: 0.9;\n    }\n\n    .send-form-wrapper {\n      padding: 15px 20px;\n      border-top: 1px solid #eee;\n      background: #fdfdfd;\n    }\n\n    .send-form {\n      display: flex;\n      gap: 10px;\n    }\n\n    .send-form input {\n      flex-grow: 1;\n      padding: 10px;\n      border: 1px solid #ccc;\n      border-radius: 20px;\n      outline: none;\n      transition: border-color 0.2s;\n    }\n    .send-form input:focus {\n      border-color: #1976d2;\n    }\n\n    .send-form button {\n      padding: 10px 20px;\n      border: none;\n      background: #1976d2;\n      color: white;\n      border-radius: 20px;\n      cursor: pointer;\n      transition: background-color 0.2s;\n    }\n    .send-form button:hover {\n      background: #1565c0;\n    }\n    .send-form button:disabled {\n      background: #a0a0a0;\n      cursor: not-allowed;\n    }\n    \n    .welcome-screen {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      text-align: center;\n      color: #aaa;\n    }\n    .welcome-screen h2 {\n      color: #555;\n      margin-bottom: 10px;\n    }\n    \n    /* Responsive adjustments */\n    @media (max-width: 768px) {\n      .chat-container-wrapper {\n        height: 100vh;\n        width: 100vw;\n        border-radius: 0;\n        border: none;\n        max-width: none;\n      }\n      .user-list {\n        position: absolute;\n        width: 280px;\n        height: 100%;\n        transform: translateX(-100%);\n        transition: transform 0.3s ease-in-out;\n        z-index: 10;\n        background: #fff;\n      }\n      .user-list.open {\n        transform: translateX(0);\n      }\n      .menu-toggle {\n        display: block;\n        margin-right: 10px;\n        cursor: pointer;\n      }\n    }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 3\n}, this);\n_c = Style;\nconst MessageItem = ({\n  msg,\n  currentUser,\n  getDecryptedPrivateKey\n}) => {\n  _s();\n  const [decrypted, setDecrypted] = useState('');\n  useEffect(() => {\n    const decrypt = async () => {\n      if (msg.from === currentUser.username && msg.plaintext) {\n        setDecrypted(msg.plaintext);\n      } else {\n        try {\n          const privateKeyArmored = await getDecryptedPrivateKey();\n          const dec = await hybridDecryptMessage(msg.encryptedContent, msg.encryptedAESKey, privateKeyArmored);\n          setDecrypted(dec);\n        } catch {\n          setDecrypted('[Failed to decrypt]');\n        }\n      }\n    };\n    decrypt();\n  }, [msg, currentUser, getDecryptedPrivateKey]);\n  const isSent = msg.from === currentUser.username;\n  const messageClasses = isSent ? 'message sent' : 'message received';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: messageClasses,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: decrypted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-timestamp\",\n        children: new Date(msg.timestamp || Date.now()).toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 9\n  }, this);\n};\n_s(MessageItem, \"p5qMHw/IAbEL1ybyHdCYv2QSVmY=\");\n_c2 = MessageItem;\nconst ChatContainer = ({\n  currentUser,\n  showStatus\n}) => {\n  _s2();\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const decryptedPrivateKeyRef = useRef(null);\n  const passphraseRef = useRef('');\n  useEffect(() => {\n    usersAPI.getAllUsers().then(res => setUsers(res.data));\n  }, []);\n  useEffect(() => {\n    if (selectedUser) {\n      messagesAPI.getConversation(selectedUser.username).then(res => setMessages(res.data.slice().reverse()));\n      setSidebarOpen(false); // Close sidebar on selection (for mobile)\n    }\n  }, [selectedUser]);\n  const getDecryptedPrivateKey = async () => {\n    if (decryptedPrivateKeyRef.current) return decryptedPrivateKeyRef.current;\n    const passphrase = window.prompt('Enter your password to decrypt your private key:');\n    if (!passphrase) throw new Error(\"Operation cancelled.\");\n    passphraseRef.current = passphrase;\n    try {\n      const encryptedPrivateKey = localStorage.getItem('privateKey');\n      const privateKeyArmored = await decryptPrivateKeyAES(encryptedPrivateKey, passphrase);\n      decryptedPrivateKeyRef.current = privateKeyArmored;\n      return privateKeyArmored;\n    } catch (err) {\n      showStatus('Failed to decrypt private key. Wrong password?', 'error');\n      passphraseRef.current = '';\n      throw err;\n    }\n  };\n  const sendMessage = async e => {\n    e.preventDefault();\n    const trimmedInput = input.trim();\n    if (!trimmedInput || !selectedUser) return;\n    setLoading(true);\n    try {\n      const {\n        encryptedMessage,\n        encryptedAESKey\n      } = await hybridEncryptMessage(trimmedInput, selectedUser.publicKey);\n      const messageData = {\n        from: currentUser.username,\n        to: selectedUser.username,\n        encryptedContent: encryptedMessage,\n        encryptedAESKey,\n        messageType: 'text',\n        timestamp: Date.now(),\n        plaintext: trimmedInput\n      };\n      await messagesAPI.sendMessage(messageData);\n      setMessages(prev => [messageData, ...prev]);\n      getSocket().emit('send_message', messageData);\n      setInput('');\n    } catch (err) {\n      showStatus('Failed to send message. Please try again.', 'error');\n    }\n    setLoading(false);\n  };\n  const getAvatar = username => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar\",\n    children: username.slice(0, 2).toUpperCase()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 9\n  }, this);\n  const getLastPreview = user => \"Click to view messages\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Style, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: `user-list ${isSidebarOpen ? 'open' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-list-header\",\n          children: \"Chats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-list-body\",\n          children: users.filter(user => user.username !== currentUser.username).map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setSelectedUser(user),\n            className: `user-item ${(selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username) === user.username ? 'selected' : ''}`,\n            children: [getAvatar(user.username), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-name\",\n                children: user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-preview\",\n                children: getLastPreview(user)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 33\n            }, this)]\n          }, user.username, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"chat-main\",\n        children: selectedUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"menu-toggle\",\n              onClick: () => setSidebarOpen(!isSidebarOpen),\n              children: \"\\u2630\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 33\n            }, this), getAvatar(selectedUser.username), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-info\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-name\",\n                children: selectedUser.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messages\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-list-inner\",\n              children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(MessageItem, {\n                msg: msg,\n                currentUser: currentUser,\n                getDecryptedPrivateKey: getDecryptedPrivateKey\n              }, msg.timestamp || idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"send-form-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: sendMessage,\n              className: \"send-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: input,\n                onChange: e => setInput(e.target.value),\n                placeholder: \"Type a message...\",\n                autoComplete: \"off\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: loading || !input.trim(),\n                children: \"Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-screen\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-toggle\",\n            onClick: () => setSidebarOpen(!isSidebarOpen),\n            style: {\n              position: 'absolute',\n              top: '20px',\n              left: '20px'\n            },\n            children: \"\\u2630\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Welcome, \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Select a chat to start messaging.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s2(ChatContainer, \"I7YI8DYdHJno4xwbZVxmrUQdP0U=\");\n_c3 = ChatContainer;\nexport default ChatContainer;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Style\");\n$RefreshReg$(_c2, \"MessageItem\");\n$RefreshReg$(_c3, \"ChatContainer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","usersAPI","messagesAPI","getSocket","hybridEncryptMessage","hybridDecryptMessage","decryptPrivateKeyAES","jsxDEV","_jsxDEV","Fragment","_Fragment","Style","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","MessageItem","msg","currentUser","getDecryptedPrivateKey","_s","decrypted","setDecrypted","decrypt","from","username","plaintext","privateKeyArmored","dec","encryptedContent","encryptedAESKey","isSent","messageClasses","className","Date","timestamp","now","toLocaleTimeString","hour","minute","_c2","ChatContainer","showStatus","_s2","isSidebarOpen","setSidebarOpen","users","setUsers","selectedUser","setSelectedUser","messages","setMessages","input","setInput","loading","setLoading","decryptedPrivateKeyRef","passphraseRef","getAllUsers","then","res","data","getConversation","slice","reverse","current","passphrase","window","prompt","Error","encryptedPrivateKey","localStorage","getItem","err","sendMessage","e","preventDefault","trimmedInput","trim","encryptedMessage","publicKey","messageData","to","messageType","prev","emit","getAvatar","toUpperCase","getLastPreview","user","filter","map","onClick","idx","onSubmit","type","value","onChange","target","placeholder","autoComplete","disabled","style","position","top","left","_c3","$RefreshReg$"],"sources":["/home/rounak-dagar/securechat/frontend/src/components/Chat/ChatContainer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\n// NOTE: These imports point to services that should exist in your application structure.\n// No changes to the logic have been made.\nimport { usersAPI, messagesAPI } from '../../services/api';\nimport { getSocket } from '../../services/socket';\nimport { hybridEncryptMessage, hybridDecryptMessage, decryptPrivateKeyAES } from '../../services/crypto';\n\n// --- STYLES ---\n// The component's styles have been updated to match the provided app.css file.\n// Additional styles have been added for elements not covered in the original CSS\n// to ensure a complete and polished UI, while respecting the light-theme design.\nconst Style = () => (\n  <style>{`\n    /* Base styles from your app.css */\n    .chat-container-wrapper {\n      font-family: Arial, sans-serif;\n      background: #fff;\n      border-radius: 8px;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n      border: 1px solid #eee;\n      display: flex;\n      height: 80vh;\n      width: 100%;\n      max-width: 900px;\n      margin: 0 auto;\n      overflow: hidden;\n    }\n\n    .user-list {\n      width: 250px;\n      border-right: 1px solid #eee;\n      display: flex;\n      flex-direction: column;\n      background-color: #fcfcfc;\n    }\n    \n    .user-list-header {\n      padding: 15px;\n      font-size: 1.2rem;\n      font-weight: bold;\n      border-bottom: 1px solid #eee;\n      color: #333;\n    }\n\n    .user-list-body {\n      overflow-y: auto;\n      flex-grow: 1;\n    }\n    \n    .user-item {\n      display: flex;\n      align-items: center;\n      padding: 12px 15px;\n      cursor: pointer;\n      border-bottom: 1px solid #f0f0f0;\n      transition: background-color 0.2s;\n    }\n    \n    .user-item:hover {\n      background-color: #f1f1f1;\n    }\n\n    .user-item.selected {\n      background-color: #1976d2;\n      color: white;\n    }\n    .user-item.selected .user-name,\n    .user-item.selected .user-preview {\n      color: white;\n    }\n\n    .avatar {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      background-color: #1976d2;\n      color: white;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-right: 12px;\n      font-weight: bold;\n    }\n    \n    .user-info {\n      overflow: hidden;\n    }\n\n    .user-name {\n      font-weight: bold;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .user-preview {\n      font-size: 0.85em;\n      color: #888;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .chat-main {\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .chat-header {\n      display: flex;\n      align-items: center;\n      padding: 10px 20px;\n      border-bottom: 1px solid #eee;\n      background: #fdfdfd;\n    }\n    \n    .chat-header .user-name {\n      font-size: 1.1em;\n    }\n\n    .messages {\n      flex-grow: 1;\n      overflow-y: auto;\n      background: #fafafa;\n      padding: 20px;\n      display: flex;\n      flex-direction: column-reverse; /* To keep view at the bottom */\n    }\n    \n    .message-list-inner {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n    .message {\n      display: flex;\n      max-width: 75%;\n    }\n\n    .message-bubble {\n      padding: 10px 15px;\n      border-radius: 18px;\n    }\n\n    .message.sent {\n      align-self: flex-end;\n      text-align: right;\n    }\n    .message.sent .message-bubble {\n      background: #1976d2;\n      color: #fff;\n      border-bottom-right-radius: 4px;\n    }\n\n    .message.received {\n      align-self: flex-start;\n      text-align: left;\n    }\n    .message.received .message-bubble {\n       background: #e5e5ea;\n       color: #333;\n       border-bottom-left-radius: 4px;\n    }\n    \n    .message-timestamp {\n      font-size: 0.75em;\n      margin-top: 4px;\n      color: #999;\n    }\n    .message.sent .message-timestamp {\n        color: #e0e0e0;\n        opacity: 0.9;\n    }\n\n    .send-form-wrapper {\n      padding: 15px 20px;\n      border-top: 1px solid #eee;\n      background: #fdfdfd;\n    }\n\n    .send-form {\n      display: flex;\n      gap: 10px;\n    }\n\n    .send-form input {\n      flex-grow: 1;\n      padding: 10px;\n      border: 1px solid #ccc;\n      border-radius: 20px;\n      outline: none;\n      transition: border-color 0.2s;\n    }\n    .send-form input:focus {\n      border-color: #1976d2;\n    }\n\n    .send-form button {\n      padding: 10px 20px;\n      border: none;\n      background: #1976d2;\n      color: white;\n      border-radius: 20px;\n      cursor: pointer;\n      transition: background-color 0.2s;\n    }\n    .send-form button:hover {\n      background: #1565c0;\n    }\n    .send-form button:disabled {\n      background: #a0a0a0;\n      cursor: not-allowed;\n    }\n    \n    .welcome-screen {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      text-align: center;\n      color: #aaa;\n    }\n    .welcome-screen h2 {\n      color: #555;\n      margin-bottom: 10px;\n    }\n    \n    /* Responsive adjustments */\n    @media (max-width: 768px) {\n      .chat-container-wrapper {\n        height: 100vh;\n        width: 100vw;\n        border-radius: 0;\n        border: none;\n        max-width: none;\n      }\n      .user-list {\n        position: absolute;\n        width: 280px;\n        height: 100%;\n        transform: translateX(-100%);\n        transition: transform 0.3s ease-in-out;\n        z-index: 10;\n        background: #fff;\n      }\n      .user-list.open {\n        transform: translateX(0);\n      }\n      .menu-toggle {\n        display: block;\n        margin-right: 10px;\n        cursor: pointer;\n      }\n    }\n  `}</style>\n);\n\nconst MessageItem = ({ msg, currentUser, getDecryptedPrivateKey }) => {\n    const [decrypted, setDecrypted] = useState('');\n\n    useEffect(() => {\n        const decrypt = async () => {\n            if (msg.from === currentUser.username && msg.plaintext) {\n                setDecrypted(msg.plaintext);\n            } else {\n                try {\n                    const privateKeyArmored = await getDecryptedPrivateKey();\n                    const dec = await hybridDecryptMessage(msg.encryptedContent, msg.encryptedAESKey, privateKeyArmored);\n                    setDecrypted(dec);\n                } catch {\n                    setDecrypted('[Failed to decrypt]');\n                }\n            }\n        };\n        decrypt();\n    }, [msg, currentUser, getDecryptedPrivateKey]);\n\n    const isSent = msg.from === currentUser.username;\n    const messageClasses = isSent ? 'message sent' : 'message received';\n\n    return (\n        <div className={messageClasses}>\n            <div className=\"message-bubble\">\n                <p>{decrypted}</p>\n                <div className=\"message-timestamp\">\n                    {new Date(msg.timestamp || Date.now()).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst ChatContainer = ({ currentUser, showStatus }) => {\n    const [isSidebarOpen, setSidebarOpen] = useState(false);\n    const [users, setUsers] = useState([]);\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [messages, setMessages] = useState([]);\n    const [input, setInput] = useState('');\n    const [loading, setLoading] = useState(false);\n    \n    const decryptedPrivateKeyRef = useRef(null);\n    const passphraseRef = useRef('');\n\n    useEffect(() => {\n        usersAPI.getAllUsers().then(res => setUsers(res.data));\n    }, []);\n\n    useEffect(() => {\n        if (selectedUser) {\n            messagesAPI.getConversation(selectedUser.username).then(res => setMessages(res.data.slice().reverse()));\n            setSidebarOpen(false); // Close sidebar on selection (for mobile)\n        }\n    }, [selectedUser]);\n\n    const getDecryptedPrivateKey = async () => {\n        if (decryptedPrivateKeyRef.current) return decryptedPrivateKeyRef.current;\n        const passphrase = window.prompt('Enter your password to decrypt your private key:');\n        if (!passphrase) throw new Error(\"Operation cancelled.\");\n        passphraseRef.current = passphrase;\n        \n        try {\n            const encryptedPrivateKey = localStorage.getItem('privateKey');\n            const privateKeyArmored = await decryptPrivateKeyAES(encryptedPrivateKey, passphrase);\n            decryptedPrivateKeyRef.current = privateKeyArmored;\n            return privateKeyArmored;\n        } catch (err) {\n            showStatus('Failed to decrypt private key. Wrong password?', 'error');\n            passphraseRef.current = '';\n            throw err;\n        }\n    };\n\n    const sendMessage = async (e) => {\n        e.preventDefault();\n        const trimmedInput = input.trim();\n        if (!trimmedInput || !selectedUser) return;\n        setLoading(true);\n\n        try {\n            const { encryptedMessage, encryptedAESKey } = await hybridEncryptMessage(trimmedInput, selectedUser.publicKey);\n            const messageData = {\n                from: currentUser.username,\n                to: selectedUser.username,\n                encryptedContent: encryptedMessage,\n                encryptedAESKey,\n                messageType: 'text',\n                timestamp: Date.now(),\n                plaintext: trimmedInput \n            };\n            await messagesAPI.sendMessage(messageData);\n            setMessages(prev => [messageData, ...prev]);\n            getSocket().emit('send_message', messageData);\n            setInput('');\n        } catch (err) {\n            showStatus('Failed to send message. Please try again.', 'error');\n        }\n        setLoading(false);\n    };\n\n    const getAvatar = (username) => (\n        <div className=\"avatar\">\n            {username.slice(0, 2).toUpperCase()}\n        </div>\n    );\n\n    const getLastPreview = (user) => \"Click to view messages\";\n\n    return (\n        <>\n            <Style />\n            <div className=\"chat-container-wrapper\">\n                <aside className={`user-list ${isSidebarOpen ? 'open' : ''}`}>\n                    <div className=\"user-list-header\">Chats</div>\n                    <div className=\"user-list-body\">\n                        {users.filter(user => user.username !== currentUser.username).map(user => (\n                            <div key={user.username} onClick={() => setSelectedUser(user)} className={`user-item ${selectedUser?.username === user.username ? 'selected' : ''}`}>\n                                {getAvatar(user.username)}\n                                <div className=\"user-info\">\n                                    <div className=\"user-name\">{user.username}</div>\n                                    <div className=\"user-preview\">{getLastPreview(user)}</div>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </aside>\n\n                <main className=\"chat-main\">\n                    {selectedUser ? (\n                        <>\n                            <div className=\"chat-header\">\n                                <div className=\"menu-toggle\" onClick={() => setSidebarOpen(!isSidebarOpen)}>☰</div>\n                                {getAvatar(selectedUser.username)}\n                                <div className=\"user-info\">\n                                     <div className=\"user-name\">{selectedUser.username}</div>\n                                </div>\n                            </div>\n                            <div className=\"messages\">\n                                <div className=\"message-list-inner\">\n                                    {messages.map((msg, idx) => (\n                                        <MessageItem \n                                            key={msg.timestamp || idx}\n                                            msg={msg} \n                                            currentUser={currentUser} \n                                            getDecryptedPrivateKey={getDecryptedPrivateKey} \n                                        />\n                                    ))}\n                                </div>\n                            </div>\n                            <div className=\"send-form-wrapper\">\n                                <form onSubmit={sendMessage} className=\"send-form\">\n                                    <input\n                                        type=\"text\"\n                                        value={input}\n                                        onChange={e => setInput(e.target.value)}\n                                        placeholder=\"Type a message...\"\n                                        autoComplete=\"off\"\n                                    />\n                                    <button type=\"submit\" disabled={loading || !input.trim()}>\n                                        Send\n                                    </button>\n                                </form>\n                            </div>\n                        </>\n                    ) : (\n                        <div className=\"welcome-screen\">\n                             <div className=\"menu-toggle\" onClick={() => setSidebarOpen(!isSidebarOpen)} style={{position: 'absolute', top: '20px', left: '20px'}}>☰</div>\n                            <h2>Welcome, {currentUser?.username}</h2>\n                            <p>Select a chat to start messaging.</p>\n                        </div>\n                    )}\n                </main>\n            </div>\n        </>\n    );\n};\n\nexport default ChatContainer;\n\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;;AAE1D;AACA;AACA,SAASC,QAAQ,EAAEC,WAAW,QAAQ,oBAAoB;AAC1D,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,oBAAoB,EAAEC,oBAAoB,EAAEC,oBAAoB,QAAQ,uBAAuB;;AAExG;AACA;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,KAAK,GAAGA,CAAA,kBACZH,OAAA;EAAAI,QAAA,EAAQ;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}